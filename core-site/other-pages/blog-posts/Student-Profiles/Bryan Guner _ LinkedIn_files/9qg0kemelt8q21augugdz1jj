define.alias("@glimmer/component/-private/ember-component-manager","messaging/component-managers/glimmer")
define.alias("artdeco-button/components/artdeco-button","messaging/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar-internal","messaging/components/artdeco-calendar-internal")
define.alias("artdeco-carousel/components/artdeco-carousel-item","messaging/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","messaging/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","messaging/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","messaging/components/artdeco-carousel")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","messaging/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker","messaging/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange","messaging/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","messaging/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","messaging/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","messaging/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","messaging/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","messaging/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","messaging/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","messaging/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","messaging/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","messaging/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","messaging/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","messaging/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","messaging/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","messaging/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","messaging/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","messaging/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","messaging/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","messaging/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","messaging/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","messaging/components/artdeco-loader")
define.alias("artdeco-modal/components/container","messaging/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","messaging/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","messaging/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","messaging/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","messaging/components/artdeco-modal")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","messaging/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","messaging/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","messaging/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","messaging/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","messaging/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","messaging/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","messaging/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","messaging/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","messaging/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","messaging/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","messaging/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","messaging/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","messaging/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","messaging/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","messaging/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","messaging/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","messaging/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","messaging/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","messaging/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","messaging/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","messaging/components/artdeco-toggle")
define("messaging/components/conversation-card",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component"],function(e,t,n,s,a,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,o,l,c,m,p,d,u,g,h,f,b,y,v
const _=Ember.HTMLBars.template({id:"b8URiHP7",block:'{"symbols":[],"statements":[[5,"link-to",[[12,"data-control-name",[23,0,["linkDataControlName"]]],[12,"class","msg-conversation-listitem__link msg-conversations-container__convo-item-link pl3"]],[["@route","@model","@disabled","@queryParams","@ariaRole"],["thread",[23,0,["conversation","id"]],[23,0,["isBulkActionsMode"]],[28,"query-params",null,[["filter","searchTerm"],[[23,0,["filter"]],[23,0,["searchTerm"]]]]],"button"]],{"statements":[[0,"\\n  "],[5,"msg-ui@selectable-entity",[],[["@onCheckboxClick","@checkboxOnly","@conversation","@entitySize","@iconSize"],[[23,0,["onClick"]],[23,0,["isBulkActionsMode"]],[23,0,["conversation"]],4,"medium"]]],[0,"\\n\\n  "],[7,"div",true],[10,"class","msg-conversation-card__content--selectable"],[8],[0,"\\n    "],[7,"div",true],[10,"class","msg-conversation-card__rows"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-conversation-card__row msg-conversation-card__title-row"],[8],[0,"\\n        "],[7,"h3",true],[11,"class",[29,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate pr1 t-16 t-black\\n            ",[28,"if",[[23,0,["conversation","read"]],"t-normal","t-bold"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["conversation","isConversationWithAdvertiser"]]],null,{"statements":[[0,"            "],[1,[28,"t",["i18n_conversation_familiar_names","messaging/components/conversation-card"],[["names"],[[23,0,["conversation","participantNames"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["conversation","isManyToManyConvo"]]],null,{"statements":[[0,"            "],[1,[28,"if",[[23,0,["conversation","name"]],[23,0,["conversation","name"]],[28,"if",[[23,0,["enableGroupChatIdentity"]],[28,"t",["i18n_conversation_familiar_names","messaging/components/conversation-card"],[["names"],[[28,"msg-ui@participant-names-with-self",[[23,0,["conversation"]],true],null]]]],[28,"t",["i18n_conversation_familiar_names","messaging/components/conversation-card"],[["names"],[[23,0,["conversation","participantNames"]]]]]],null]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"t",["i18n_conversation_full_names","messaging/components/conversation-card"],[["names"],[[23,0,["conversation","participantNames"]]]]],false],[0,"\\n          "]],"parameters":[]}]],"parameters":[]}],[0,"        "],[9],[0,"\\n"],[4,"if",[[23,0,["createdAt"]]],null,{"statements":[[0,"          "],[7,"time",true],[11,"class",[29,["msg-conversation-listitem__time-stamp t-14 t-black\\n              ",[28,"if",[[23,0,["conversation","read"]],"t-normal","t-bold"],null],"\\n              ",[28,"if",[[23,0,["hasConvoUtilityButtons"]],"msg-conversation-card__time-stamp"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["createdAtIsToday"]]],null,{"statements":[[0,"              "],[1,[28,"ember-cli-pemberly-i18n@format-time",[[23,0,["createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[28,"ember-cli-pemberly-i18n@format-date",[[23,0,["createdAt"]]],[["format","useTimeZone"],[[28,"if",[[28,"msg-ui@is-current-year",[[23,0,["createdAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],null],true]]],false],[0,"\\n"]],"parameters":[]}],[0,"          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["hasConvoUtilityButtons"]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-conversation-card__list-actions"],[8],[0,"\\n            "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"if",[[23,0,["conversation","read"]],"",[28,"t",["aria_unread_count","messaging/components/conversation-card"],[["unreadCount"],[[23,0,["conversation","unreadCountDisplay"]]]]]],null]],[12,"data-control-name",[28,"if",[[23,0,["conversation","read"]],"mark_unread","mark_read"],null]]],[["@class","@type","@size","@color","@circle","@icon","@text","@click"],["msg-conversation-card__list-action msg-conversation-card__toggle-read-btn","tertiary",[28,"if",[[23,0,["isMercado"]],2,1],null],"muted",true,[28,"if",[[23,0,["conversation","read"]],"envelope-icon","envelope-open-icon"],null],[28,"t",[[28,"if",[[23,0,["conversation","name"]],"i18n_mark_as_read_unread_thread_name","i18n_mark_as_read_unread_participants"],null],"messaging/components/conversation-card"],[["names","threadName","isRead"],[[23,0,["conversation","participantNames"]],[23,0,["conversation","name"]],[23,0,["conversation","read"]]]]],[28,"action",[[23,0,[]],"toggleReadState",[23,0,["conversation"]]],null]]]],[0,"\\n\\n            "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name",[28,"if",[[23,0,["conversation","archived"]],"unarchive_conversation","archive_conversation"],null]]],[["@class","@type","@size","@color","@circle","@icon","@text","@click"],["msg-conversation-card__list-action msg-conversation-card__toggle-archive-btn","tertiary",[28,"if",[[23,0,["isMercado"]],2,1],null],"muted",true,[28,"if",[[23,0,["conversation","archived"]],"unarchive-message-icon","archive-message-icon"],null],[28,"t",[[28,"if",[[23,0,["conversation","archived"]],"i18n_restore_conversation","i18n_archive_conversation"],null],"messaging/components/conversation-card"],null],[28,"action",[[23,0,[]],"toggleArchiveState",[23,0,["conversation"]]],null]]]],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[9],[0,"\\n\\n      "],[7,"div",true],[10,"class","msg-conversation-card__row msg-conversation-card__body-row"],[8],[0,"\\n        "],[7,"div",true],[10,"class","flex-grow-1"],[8],[0,"\\n"],[4,"if",[[23,0,["conversation","shortContextText"]]],null,{"statements":[[0,"            "],[7,"p",true],[10,"class","display-flex align-items-center overflow-hidden t-12 t-bold"],[8],[0,"\\n              "],[1,[28,"text-view-model@text-view-model",[[23,0,["conversation","shortContextText"]]],null],false],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null],[0,"          "],[7,"p",true],[11,"class",[29,["msg-conversation-listitem__message-snippet msg-conversation-card__message-snippet m0 t-14 t-black\\n              ",[28,"if",[[23,0,["conversation","read"]],"t-normal","t-bold"],null]]]],[8],[0,"\\n            "],[5,"msg-ui@message-snippet",[],[["@conversation","@latestEvent"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent"]]]]],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n\\n        "],[7,"div",true],[10,"class","msg-conversation-card__conversation-status t-black"],[8],[0,"\\n"],[4,"if",[[23,0,["conversation","muted"]]],null,{"statements":[[0,"            "],[1,[28,"artdeco-icons-web@li-icon",null,[["class","type","size"],["msg-conversation-card__action-icon v-align-top","mute-icon",[28,"if",[[23,0,["isMercado"]],"medium","small"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[23,0,["conversation","read"]]],null,{"statements":[[4,"if",[[28,"global-helpers@or",[[23,0,["showMessageRequestContext"]],[23,0,["unreadBadgerEnabled"]]],null]],null,{"statements":[[0,"              "],[7,"div",true],[10,"class","msg-conversation-card__unread-dot mr1"],[8],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[7,"mark",true],[10,"class","msg-conversation-card__unread-count ml1"],[8],[0,"\\n                "],[7,"abbr",true],[11,"title",[28,"t",["aria_unread_count","messaging/components/conversation-card"],[["unreadCount"],[[23,0,["conversation","unreadCountDisplay"]]]]]],[8],[0,"\\n                  "],[1,[28,"t",["i18n_unread_count","messaging/components/conversation-card"],[["unreadCount"],[[23,0,["conversation","unreadCountDisplay"]]]]],false],[0,"\\n                "],[9],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"span",true],[10,"class","msg-conversation-listitem__active-text visually-hidden"],[8],[0,"\\n    "],[1,[28,"t",["i18n_a11y_active_conversation","messaging/components/conversation-card"],null],false],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"span",true],[10,"class","visually-hidden"],[8],[0,"\\n    "],[1,[28,"t",["i18n_a11y_thread_selection_action","messaging/components/conversation-card"],null],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"messaging/components/conversation-card.hbs"}})
let E=(r=(0,i.classNameBindings)("isProcessing:msg-conversation-card--is-processing"),o=Ember.inject.service("lix"),l=Ember.computed("conversation.isPendingMessageRequest","conversation.isDeclinedMessageRequest","conversation.shortContextText"),c=Ember.computed("conversation.isPendingMessageRequest","conversation.isDeclinedMessageRequest"),m=Ember.inject.service("tracking"),p=Ember.computed.readOnly("conversation.latestEvent.createdAt"),d=Ember.computed("createdAt"),u=Ember._action,g=Ember._action,r(h=(f=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"lix",b,this);(0,t.default)(this,"tracking",y,this);(0,n.default)(this,"rumComponentId","messaging/conversation-card");(0,t.default)(this,"createdAt",v,this);(0,n.default)(this,"isProcessing",!1)}get showMessageRequestContext(){return(Ember.get(this,"conversation.isPendingMessageRequest")||Ember.get(this,"conversation.isDeclinedMessageRequest"))&&Ember.get(this,"conversation.shortContextText")}get linkDataControlName(){return Ember.get(this,"conversation.isPendingMessageRequest")?"view_message_request_conversation":Ember.get(this,"conversation.isDeclinedMessageRequest")?"view_declined_message_request_conversation":"view_message"}init(){super.init.apply(this,arguments)
this.tracking.setupTrackableComponent(this)
Ember.setProperties(this,{unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger"),enableGroupChatIdentity:this.lix.getTreatmentIsEnabled("voyager.web.messaging-group-chat-identity"),isMercado:this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme")})}get createdAtIsToday(){return this.createdAt>(new Date).setHours(0,0,0,0)}onImpression(){this.impressionTracking()
this.isSearchMode&&this.searchImpressionTracking(this.conversation,this.convoIndex)}click(){this.isBulkActionsMode?this.onClick():this.isSearchMode&&"function"==typeof this.searchActionEventTracking&&this.searchActionEventTracking()}contextMenu(){this.tracking.fireInteractionEvent("conversation_right_click")}toggleReadState(e,t){t.stopPropagation()
t.preventDefault()
return this.toggleConversationReadState(e).then(()=>{const e=this.element.querySelector(".msg-conversation-card__toggle-read-btn")
e&&e.blur()})}toggleArchiveState(e,t){t.stopPropagation()
t.preventDefault()
this.toggleConversationArchiveState(e)}},b=(0,s.default)(f.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(f.prototype,"showMessageRequestContext",[l],Object.getOwnPropertyDescriptor(f.prototype,"showMessageRequestContext"),f.prototype),(0,s.default)(f.prototype,"linkDataControlName",[c],Object.getOwnPropertyDescriptor(f.prototype,"linkDataControlName"),f.prototype),y=(0,s.default)(f.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(f.prototype,"createdAt",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(f.prototype,"createdAtIsToday",[d],Object.getOwnPropertyDescriptor(f.prototype,"createdAtIsToday"),f.prototype),(0,s.default)(f.prototype,"toggleReadState",[u],Object.getOwnPropertyDescriptor(f.prototype,"toggleReadState"),f.prototype),(0,s.default)(f.prototype,"toggleArchiveState",[g],Object.getOwnPropertyDescriptor(f.prototype,"toggleArchiveState"),f.prototype),f))||h)
e.default=E
Ember._setComponentTemplate(_,E)})
define("messaging/components/conversations-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","infinite-scroll/components/infinite-scroll-container","msg-shared/utils/constants"],function(e,t,n,s,a,i,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m,p,d,u,g,h,f,b,y,v
const _=Ember.HTMLBars.template({id:"cPoS5OJ0",block:'{"symbols":["&default"],"statements":[[14,1,[[28,"hash",null,[["loadMore","retryLoadMore"],[[28,"action",[[23,0,[]],"infiniteScroll"],null],[28,"action",[[23,0,[]],"retryLoadMore"],null]]]],[28,"hash",null,[["loadMoreError","canInfiniteScroll"],[[23,0,["loadMoreError"]],[23,0,["canInfiniteScroll"]]]]]]]],"hasEval":false}',meta:{moduleName:"messaging/components/conversations-container.hbs"}}),{PAGEVIEW_KEYS:{CONVERSATION_LIST_SCROLL:E}}=o.default
let M=(l=(0,i.tagName)("ul"),c=(0,i.classNames)("msg-conversations-container__conversations-list","list-style-none"),m=Ember.inject.service("global-services@a11y-notification"),p=Ember.inject.service("i18n"),d=Ember.inject.service("tracking"),u=Ember._action,g=Ember._action,l(h=c(h=(f=class extends r.default{constructor(){super(...arguments);(0,n.default)(this,"rumComponentId","messaging/conversations-container");(0,t.default)(this,"a11yNotification",b,this);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"tracking",v,this);(0,n.default)(this,"data-test-conversations-container",!0);(0,n.default)(this,"loadMoreError",!1)}init(){super.init.apply(this,arguments)
this.tracking.setupTrackableComponent(this)
const e=`#${this.elementId}`
Ember.set(this,"eventTarget",e)
Ember.set(this,"scrollingElementSelector",e)}_fireTracking(e){this.pageViewTracking(e)}didInsertElement(){super.didInsertElement.apply(this,arguments)
this._fireTracking()}infiniteScroll(){return this._loadMore()}_loadMore(){Ember.setProperties(this,{loadMoreError:!1})
return this.loadMore().then(e=>{if("canceled"===e.state)return!0
if(!this.isDestroying){const{newRecordCount:t}=e
this._fireTracking(E)
const n=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_a11y_infinite_scroll_conversations")
this.a11yNotification.setTextInLiveRegion(n([{newRecordCount:t}]))}return e.newRecordCount>0}).catch(e=>{this.isDestroying||Ember.set(this,"loadMoreError",!0)
throw e})}retryLoadMore(){this.resetInfiniteScroll()
this._loadMore()}},b=(0,s.default)(f.prototype,"a11yNotification",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(f.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(f.prototype,"tracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(f.prototype,"infiniteScroll",[u],Object.getOwnPropertyDescriptor(f.prototype,"infiniteScroll"),f.prototype),(0,s.default)(f.prototype,"retryLoadMore",[g],Object.getOwnPropertyDescriptor(f.prototype,"retryLoadMore"),f.prototype),f))||h)||h)
e.default=M
Ember._setComponentTemplate(_,M)})
define.alias("ember-vector-images/components/custom-image","messaging/components/custom-image")
define.alias("ember-semaphore/components/ember-semaphore","messaging/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","messaging/components/ember-wormhole")
define("messaging/components/entity-lockup",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/constants"],function(e,t,n,s,a,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,o,l,c,m,p,d,u
const g=Ember.HTMLBars.template({id:"pNCsgCtH",block:'{"symbols":["@customTracking","@showPresenceStatus","@conversation","&attrs","@title"],"statements":[[7,"div",false],[12,"class",[29,["msg-entity-lockup truncate pv0 pr3 ",[28,"if",[[23,0,["isCompany"]],"EntityLockup-square-2-company","EntityLockup-circle-2"],null]]]],[13,4],[8],[0,"\\n  "],[7,"dl",true],[10,"class","truncate"],[8],[0,"\\n    "],[7,"dt",true],[10,"class","msg-entity-lockup__entity-title-wrapper display-flex"],[8],[0,"\\n"],[0,"      "],[7,"h2",true],[10,"id","thread-detail-jump-target"],[10,"data-jump-link-target","thread-detail-jump-target"],[10,"tabindex","-1"],[11,"class",[29,["msg-entity-lockup__entity-title truncate pr2 ",[28,"if",[[23,0,["isHoverableName"]]," hoverable-link-text"],null]]]],[8],[0,"\\n        "],[1,[23,5,[]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n    "],[7,"dd",true],[10,"class","msg-entity-lockup__entity-info t-12 t-black--light t-normal truncate"],[8],[0,"\\n"],[4,"if",[[28,"global-helpers@and",[[23,0,["enableReactions"]],[23,0,["headerReactionNotification"]]],null]],null,{"statements":[[0,"        "],[1,[28,"t",["i18n_reaction_notification","messaging/components/entity-lockup"],[["reactorName","emoji"],[[28,"ember-cli-pemberly-i18n@format-name",null,[["firstName","lastName","type"],[[23,0,["headerReactionNotification","reactor","firstName"]],[23,0,["headerReactionNotification","reactor","lastName"]],"familiar"]]],[23,0,["headerReactionNotification","emoji"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,3,["isManyToManyConvo"]]],null,{"statements":[[4,"if",[[23,3,["name"]]],null,{"statements":[[4,"if",[[23,0,["enableGroupChatIdentity"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,3,["participants","length"]],0],null]],null,{"statements":[[0,"                "],[1,[28,"t",["i18n_just_you","messaging/components/entity-lockup"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[1,[28,"t",["i18n_participant_familiar","messaging/components/entity-lockup"],[["names"],[[28,"msg-ui@participant-names-with-self",[[23,3,[]],true],null]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"              "],[1,[28,"t",["i18n_participant_familiar","messaging/components/entity-lockup"],[["names"],[[23,3,["participantNames"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"t",["i18n_participants","messaging/components/entity-lockup"],[["count"],[[23,3,["totalParticipantsCount"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,2,[]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","display-flex align-items-center"],[8],[0,"\\n            "],[5,"presence@presence-indicator",[],[["@classNames","@miniProfile","@size","@customTracking"],["msg-entity-lockup__presence-indicator mr2",[23,0,["participant","miniProfile"]],2,[23,1,[]]]]],[0,"\\n"],[4,"if",[[23,0,["participant","miniProfile","presence","isOnline"]]],null,{"statements":[[0,"              "],[1,[28,"t",["i18n_active_now","messaging/components/entity-lockup"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["participant","miniProfile","presence","isReachable"]]],null,{"statements":[[0,"              "],[1,[28,"if",[[23,0,["participant","miniProfile","presence","lastActiveAt"]],[28,"t",["i18n_mobile","messaging/components/entity-lockup"],[["date"],[[28,"global-helpers@time-ago",[[23,0,["participant","miniProfile","presence","lastActiveAt"]],"short-ago"],null]]]],[28,"t",["i18n_available_on_mobile","messaging/components/entity-lockup"],null]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[23,0,["participant","miniProfile","occupation"]],false],[0,"\\n            "]],"parameters":[]}]],"parameters":[]}],[0,"          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[23,0,["participant","miniProfile","occupation"]],false],[0,"\\n        "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"messaging/components/entity-lockup.hbs"}}),{GHOST_TYPE:h}=i.default
let f=(r=Ember.inject.service("lix"),o=Ember.computed.equal("participant.ghostType",h.COMPANY).readOnly(),l=Ember.computed.alias("conversation.participants.firstObject").readOnly(),c=Ember.computed("conversation.isManyToManyConvo","conversation.isConversationWithAdvertiser","isCompany").readOnly(),m=class extends Ember.Component{constructor(){super(...arguments);(0,n.default)(this,"rumComponentId","messaging/entity-lockup");(0,t.default)(this,"lix",p,this);(0,t.default)(this,"isCompany",d,this);(0,t.default)(this,"participant",u,this)
this.enableGroupChatIdentity=this.lix.getTreatmentIsEnabled("voyager.web.messaging-group-chat-identity")
this.enableReactions=this.lix.getTreatmentIsEnabled("voyager.web.messaging-reactions")}get isHoverableName(){return!Ember.get(this,"conversation.isManyToManyConvo")&&(!Ember.get(this,"conversation.isConversationWithAdvertiser")||this.isCompany)}},p=(0,s.default)(m.prototype,"lix",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,s.default)(m.prototype,"isCompany",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,s.default)(m.prototype,"participant",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(m.prototype,"isHoverableName",[c],Object.getOwnPropertyDescriptor(m.prototype,"isHoverableName"),m.prototype),m)
e.default=f
Ember._setComponentTemplate(g,f)})
define("messaging/components/inmail-compose-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/constants"],function(e,t,n,s,a,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,o,l,c,m,p,d,u,g,h
const f=Ember.HTMLBars.template({id:"/W6aWsBK",block:'{"symbols":["components","actions","props","assetLoader","assetLoader","assetLoader"],"statements":[[7,"div",true],[10,"class","msg-inmail-compose-form__entity-lockup EntityLockup-circle-2-ghost-person"],[8],[0,"\\n  "],[7,"figure",true],[8],[0,"\\n    "],[5,"ember-vector-images@custom-image",[],[["@ghostType","@image","@desiredWidth"],["person",[23,0,["recipients","firstObject","picture"]],40]]],[0,"\\n  "],[9],[0,"\\n  "],[7,"dl",true],[8],[0,"\\n    "],[7,"dt",true],[8],[1,[28,"ember-cli-pemberly-i18n@format-name",null,[["firstName","lastName","type"],[[23,0,["recipients","firstObject","firstName"]],[23,0,["recipients","firstObject","lastName"]],"full"]]],false],[9],[0,"\\n    "],[7,"dd",true],[8],[1,[23,0,["recipients","firstObject","occupation"]],false],[9],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[4,"if",[[23,0,["showPremiumUpsell"]]],null,{"statements":[[0,"  "],[5,"msg-ui@premium-upsell",[],[["@contextUrn"],[[23,0,["recipients","firstObject","entityUrn"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[7,"section",true],[10,"class","msg-inmail-compose-form__subject-input-container"],[8],[0,"\\n    "],[7,"label",true],[10,"class","visually-hidden"],[8],[1,[28,"t",["i18n_write_subject","messaging/components/inmail-compose-form"],null],false],[9],[0,"\\n"],[0,"      "],[1,[28,"input",null,[["type","name","value","placeholder","class","autocomplete"],["text","subject",[23,0,["subjectDisplay"]],[28,"t",["i18n_subject_placeholder_optional","messaging/components/inmail-compose-form"],null],"msg-inmail-compose-form__subject-input","off"]]],false],[0,"\\n"],[0,"  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","full-height"],[8],[0,"\\n    "],[5,"msg-ui@msg-form/base-form",[],[["@classNames","@conversation","@msgAdapterOptions","@prefilledMessage","@beforeUpload","@submitMessage","@subjectDisplay","@isInMailCompose","@composeIsFullyExpanded","@validateForm"],["msg-form--thread full-height",[23,0,["conversation"]],[23,0,["msgAdapterOptions"]],[23,0,["prefilledMessage"]],[23,0,["beforeUpload"]],[23,0,["submitMessage"]],[23,0,["subjectDisplay"]],true,true,[28,"action",[[23,0,[]],"validateForm"],null]]],{"statements":[[0,"\\n      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,6,["state","fulfilled"]]],null,{"statements":[[0,"          "],[6,[23,1,["attachmentDragAndDrop"]],[],[["@composeIsFullyExpanded","@trackingKeys"],[true,[23,0,["dragAndDropTrackingKeys"]]]]],[0,"\\n"],[4,"unless",[[23,3,["showMiniAttachmentPreviews"]]],null,{"statements":[[0,"            "],[6,[23,1,["uploadAttachmentPreviews"]],[],[[],[]]],[0,"\\n"],[4,"if",[[23,3,["attachmentDropErrorType"]]],null,{"statements":[[0,"              "],[6,[23,1,["attachmentDragAndDropErrorDisplay"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"      "]],"parameters":[6]}],[0,"\\n      "],[6,[23,1,["messageContentContainer"]],[],[["@classNames","@composeIsFullyExpanded","@labelText"],["msg-form__message-texteditor relative flex-grow-1 display-flex",true,[28,"t",["i18n_write_message","messaging/components/inmail-compose-form"],null]]]],[0,"\\n"],[4,"if",[[23,0,["footerText"]]],null,{"statements":[[0,"        "],[7,"section",true],[11,"class",[29,["msg-inmail-credits-display pv2 ph4 ",[28,"if",[[23,0,["recipientOpenToFreeMessages"]],"justify-flex-end"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["footerIcon"]]],null,{"statements":[[0,"            "],[7,"span",true],[10,"class","a11y-text"],[8],[1,[28,"t",["i18n_a11y_premium_badge","messaging/components/inmail-compose-form"],null],false],[9],[0,"\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size"],["premium-badge","8dp"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"          "],[7,"p",true],[10,"class","t-12 t-black--light t-normal"],[8],[0,"\\n            "],[1,[28,"text-view-model@text-view-model",[[23,0,["footerText"]]],null],false],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["state","fulfilled"]]],null,{"statements":[[4,"if",[[23,0,["messageExceedsLength"]]],null,{"statements":[[0,"              "],[5,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@classNames","@type","@message"],["msg-form__compose-error p2","error",[28,"t",["i18n_inmail_too_long","messaging/components/inmail-compose-form"],[["messagelength"],[[23,0,["longMessageLength"]]]]]]]],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,[23,1,["inmailCreditsDisplay"]],[],[["@recipient","@recipientOpenToFreeMessages"],[[23,0,["recipients","firstObject"]],[23,0,["msgAdapterOptions","recipientOpenToFreeMessages"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[5]}],[0,"\\n"]],"parameters":[]}],[0,"      "],[7,"footer",true],[10,"class","msg-form__footer"],[8],[0,"\\n        "],[7,"div",true],[10,"class","msg-form__left-actions display-flex"],[8],[0,"\\n          "],[6,[23,1,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,"artdeco-icons-web@li-icon",null,[["type"],["image-icon"]]],[28,"t",["i18n_attach_image","messaging/components/inmail-compose-form"],null],[23,3,["supportedImageAttachmentTypes"]],"image"]]],[0,"\\n          "],[6,[23,1,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,"artdeco-icons-web@li-icon",null,[["type"],["paperclip-icon"]]],[28,"t",["i18n_attach_file","messaging/components/inmail-compose-form"],null],[23,3,["supportedFileAttachmentTypes"]],"file"]]],[0,"\\n          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],{"statements":[[0,"\\n"],[4,"if",[[23,4,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[28,"action",[[23,0,[]],[23,2,["updateTextarea"]]],null],"msg_pillar_emoji",[28,"action",[[23,0,[]],[23,2,["focusTextarea"]]],null],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[4]}],[0,"\\n        "],[9],[0,"\\n        "],[7,"div",true],[10,"class","msg-form__right-actions display-flex align-items-center"],[8],[0,"\\n          "],[6,[23,1,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",false]]],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n    "]],"parameters":[1,2,3]}],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"messaging/components/inmail-compose-form.hbs"}}),{INMAIL_MAX_CHARACTERS:b}=i.default
let y=(r=Ember.inject.service("global-services@a11y-notification"),o=Ember.inject.service("lix"),l=Ember.inject.service("i18n"),c=Ember.inject.service("tracking"),m=Ember._action,p=class extends Ember.Component{constructor(){super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_comp_inmail_compose_form");(0,t.default)(this,"a11yNotification",d,this);(0,t.default)(this,"lix",u,this);(0,t.default)(this,"i18n",g,this);(0,t.default)(this,"tracking",h,this)}init(){super.init.apply(this,arguments)
this.tracking.setupTrackableComponent(this)}didRender(){super.didRender.apply(this,arguments)
this.tracking.firePageViewEvent("flagship3_messaging_compose_inmail")}a11yNotify(e){const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}validateForm(e){const t=this.messageExceedsLength,n=e.length>b
if(n){t||this.a11yNotify("i18n_inmail_too_long")
Ember.set(this,"longMessageLength",e.length)}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
Ember.set(this,"messageExceedsLength",n)
return!n}},d=(0,s.default)(p.prototype,"a11yNotification",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,s.default)(p.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,s.default)(p.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"tracking",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(p.prototype,"validateForm",[m],Object.getOwnPropertyDescriptor(p.prototype,"validateForm"),p.prototype),p)
e.default=y
Ember._setComponentTemplate(f,y)})
define.alias("ember-vector-images/components/lazy-background","messaging/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","messaging/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","messaging/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","messaging/components/linkedin-logo")
define.alias("ember-media-player/components/media-player","messaging/components/media-player")
define.alias("ember-media-player/components/media-player/big-play-button","messaging/components/media-player/big-play-button")
define.alias("ember-media-player/components/media-player/caption","messaging/components/media-player/caption")
define.alias("ember-media-player/components/media-player/control/back-to-start","messaging/components/media-player/control/back-to-start")
define.alias("ember-media-player/components/media-player/control/captions-menu","messaging/components/media-player/control/captions-menu")
define.alias("ember-media-player/components/media-player/control/custom","messaging/components/media-player/control/custom")
define.alias("ember-media-player/components/media-player/control/fullscreen","messaging/components/media-player/control/fullscreen")
define.alias("ember-media-player/components/media-player/control/next","messaging/components/media-player/control/next")
define.alias("ember-media-player/components/media-player/control/playback-rate","messaging/components/media-player/control/playback-rate")
define.alias("ember-media-player/components/media-player/control/previous","messaging/components/media-player/control/previous")
define.alias("ember-media-player/components/media-player/control/settings","messaging/components/media-player/control/settings")
define.alias("ember-media-player/components/media-player/control/settings/autoplay","messaging/components/media-player/control/settings/autoplay")
define.alias("ember-media-player/components/media-player/control/settings/quality","messaging/components/media-player/control/settings/quality")
define.alias("ember-media-player/components/media-player/control/skipahead","messaging/components/media-player/control/skipahead")
define.alias("ember-media-player/components/media-player/control/skipback","messaging/components/media-player/control/skipback")
define.alias("ember-media-player/components/media-player/control/theater-mode","messaging/components/media-player/control/theater-mode")
define.alias("ember-media-player/components/media-player/end-screen","messaging/components/media-player/end-screen")
define.alias("ember-media-player/components/media-player/error-screen","messaging/components/media-player/error-screen")
define("messaging/components/modals/leave-messaging-alert-modal",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"4vbsS76h",block:'{"symbols":[],"statements":[],"hasEval":false}',meta:{moduleName:"messaging/components/modals/leave-messaging-alert-modal.hbs"}})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})
define("messaging/components/no-messages",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"zB3HH6FY",block:'{"symbols":["@filter","@searchTerm","&attrs","@isSearching"],"statements":[[7,"div",false],[13,3],[8],[0,"\\n  "],[7,"div",true],[10,"class","msg-conversations-container__no-results"],[8],[0,"\\n"],[4,"if",[[23,4,[]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","msg-conversations-container__no-results-image msg-conversations-container__no-results-image--search"],[8],[9],[0,"\\n      "],[7,"div",true],[10,"class","no-messages-detail text-align-center"],[8],[0,"\\n        "],[7,"p",true],[10,"class","mb4"],[8],[0,"\\n"],[4,"if",[[23,2,[]]],null,{"statements":[[4,"if",[[23,1,[]]],null,{"statements":[[0,"              "],[1,[28,"t",["i18n_ucf_no_messages_search","messaging/components/no-messages"],[["searchTerm","filter"],[[23,2,[]],[23,1,[]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[28,"t",["i18n_ucf_no_messages_no_filter_search","messaging/components/no-messages"],[["searchTerm"],[[23,2,[]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"t",["i18n_ucf_no_messages_filter","messaging/components/no-messages"],[["filter"],[[23,1,[]]]]],false],[0,"\\n"]],"parameters":[]}],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[7,"div",true],[10,"class","msg-conversations-container__no-results-image msg-conversations-container__no-results-image--inbox"],[8],[9],[0,"\\n      "],[7,"div",true],[10,"class","text-align-center"],[8],[0,"\\n        "],[7,"p",true],[10,"class","mb4"],[8],[0,"\\n          "],[1,[28,"t",["i18n_no_messages_yet","messaging/components/no-messages"],null],false],[0,"\\n        "],[9],[0,"\\n        "],[7,"p",true],[10,"class","mb4"],[8],[0,"\\n          "],[1,[28,"t",["i18n_why_start_a_message","messaging/components/no-messages"],null],false],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n      "],[5,"link-to",[[12,"class","inline-block text-align-center full-width mb4"]],[["@route","@query"],["compose",[28,"hash",null,[["after"],[[28,"global-helpers@location-pathname",null,null]]]]]],{"statements":[[0,"\\n        "],[1,[28,"t",["i18n_start_new_message","messaging/components/no-messages"],null],false],[0,"\\n      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"messaging/components/no-messages.hbs"}})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})
define("messaging/components/premium-mailboxes",["exports","@babel/runtime/helpers/esm/defineProperty","@ember-decorators/component"],function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s
const a=Ember.HTMLBars.template({id:"JQx1GdbP",block:'{"symbols":["mailbox"],"statements":[[4,"each",[[23,0,["mailboxes"]]],null,{"statements":[[0,"  "],[7,"li",true],[11,"class",[29,["msg-premium-mailboxes__mailbox msg-premium-mailboxes__mailbox--",[23,1,["controlName"]]]]],[8],[0,"\\n    "],[5,"ember-cli-pemberly-tracking@shared/external-link",[],[["@href","@classNames","@control-name","@target"],[[28,"unbound",[[23,1,["url"]]],null],"msg-premium-mailboxes__link display-flex align-items-center pv4 ph3",[23,1,["controlName"]],"_blank"]],{"statements":[[0,"\\n      "],[1,[28,"t",[[28,"if",[[23,1,["isRecruiterMailbox"]],"recruiter_messages",[28,"if",[[23,1,["isHiringManagerMailbox"]],"hiring_manager_messages",[28,"if",[[23,1,["isJobPostMailbox"]],"job_post_messages","sales_navigator_messages"],null]],null]],null],"messaging/components/premium-mailboxes"],null],false],[0,"\\n      "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","class","size","a11y-text"],["chevron-right-icon","msg-premium-mailboxes__external-link-icon","small",[28,"t",["mailbox_count","messaging/components/premium-mailboxes"],[["count"],[[23,1,["count"]]]]]]]],false],[0,"\\n"],[4,"if",[[23,1,["count"]]],null,{"statements":[[0,"        "],[7,"mark",true],[10,"class","msg-premium-mailboxes__unread-count"],[8],[0,"\\n          "],[7,"abbr",true],[11,"title",[29,[[28,"t",["mailbox_count","messaging/components/premium-mailboxes"],[["count"],[[23,1,["count"]]]]]]]],[8],[0,"\\n            "],[1,[28,"t",["i18n_unread_count","messaging/components/premium-mailboxes"],[["unreadCount"],[[23,1,["count"]]]]],false],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[]}],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"messaging/components/premium-mailboxes.hbs"}})
let i=(0,n.tagName)("")(s=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"rumComponentId","messaging/premium-mailboxes")}})||s
e.default=i
Ember._setComponentTemplate(a,i)})
define("messaging/components/search-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/constants"],function(e,t,n,s,a,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,o,l,c,m,p,d,u,g,h,f,b,y,v
const _=Ember.HTMLBars.template({id:"u+hFovId",block:'{"symbols":["widget","dropdown","trigger","@isBulkActionsMode","@showSearchInput"],"statements":[[0,"\\n"],[0,"\\n"],[4,"if",[[23,5,[]]],null,{"statements":[[0,"  "],[5,"title-bar@title-bar",[],[["@tagName","@class","@bemPrefix"],["heading","msg-search-form","msg-search-form"]],{"statements":[[0,"\\n    "],[7,"label",true],[10,"for","search-conversations"],[10,"class","visually-hidden"],[8],[0,"\\n      "],[1,[28,"t",["i18n_search_query_placeholder","messaging/components/search-form"],null],false],[0,"\\n    "],[9],[0,"\\n    "],[1,[28,"input",null,[["type","name","id","class","value","enter","placeholder","autocomplete"],["search","searchTerm","search-conversations","msg-search-form__search-field t-14 t-black t-normal",[23,0,["inputSearchTerm"]],[23,0,["searchConversations"]],[28,"t",["i18n_search_query_placeholder","messaging/components/search-form"],null],"off"]]],false],[0,"\\n"],[4,"if",[[23,0,["isSearchLoading"]]],null,{"statements":[[0,"      "],[5,"artdeco-loader@artdeco-loader",[],[["@size","@class"],["xsmall","msg-search-form__search-loader"]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","class","size"],["search-icon","msg-search-form__search-icon",[28,"if",[[23,0,["isMercado"]],"small"],null]]]],false],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,0,["hasActiveSearch"]]],null,{"statements":[[0,"      "],[5,"artdeco-button@artdeco-button",[],[["@type","@color","@circle","@icon","@class","@click","@text","@size"],["tertiary","muted",true,"cancel-icon","msg-search-form__cancel-search",[28,"action",[[23,0,[]],[23,0,["clearActiveSearch"]]],null],[28,"t",["i18n_cancel_search","messaging/components/search-form"],null],[28,"if",[[23,0,["isMercado"]],1,2],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[5,"artdeco-dropdown@artdeco-dropdown",[],[["@classNames","@isOpen","@onVisibilityChange","@placement","@justification"],["msg-search-form__choose-filters",[23,0,["isFiltersDropdownOpen"]],[23,0,["toggleConvoFiltersDropdown"]],"bottom","right"]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["showTooltip"]]],null,{"statements":[[0,"          "],[5,"artdeco-hoverables@artdeco-hoverable-trigger",[],[["@on","@placement"],["init","bottom"]],{"statements":[[0,"\\n            "],[6,[23,2,["dropdown-trigger"]],[[12,"class",[28,"if",[[23,0,["isMercado"]],"artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted artdeco-button--1artdeco-button--1","artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted artdeco-button--1artdeco-button--2"],null]],[12,"data-control-name","filter_messages_by"]],[["@onClick"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"isFiltersDropdownOpen"],null]]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["unreadFilterOnboardingWidgetTrackingToken"]]],null,{"statements":[[0,"                "],[5,"msg-ui@onboarding-notification",[[12,"class","msg-search-form__choose-filters-dot"]],[["@showNotification"],[true]]],[0,"\\n"]],"parameters":[]},null],[0,"              "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","a11y-text","class","size"],["filter-icon",[28,"t",["i18n_filter_messages","messaging/components/search-form"],null],"artdeco-button__icon",[28,"if",[[23,0,["isMercado"]],"small"],null]]]],false],[0,"\\n            "]],"parameters":[]}],[0,"\\n            "],[6,[23,3,["artdeco-hoverable-content"]],[],[["@contentClass"],["msg-search-form__tooltip"]],{"statements":[[0,"\\n              "],[1,[28,"if",[[23,0,["showNewTooltipText"]],[28,"t",["i18n_archived_sponsored_messages","messaging/components/search-form"],null],[28,"t",["i18n_archived_message_ads","messaging/components/search-form"],null]],null],false],[0,"\\n              "],[7,"a",true],[10,"class","inverse-link"],[10,"href","/help/linkedin/answer/119206"],[10,"rel","noopener noreferrer"],[10,"target","_blank"],[8],[0,"\\n                "],[1,[28,"t",["i18n_learn_more","messaging/components/search-form"],null],false],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[]}],[0,"\\n          "]],"parameters":[3]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["unreadFilterOnboardingWidgetTrackingToken"]]],null,{"statements":[[0,"            "],[5,"msg-ui@onboarding-notification",[[12,"class","msg-search-form__choose-filters-dot"]],[["@showNotification"],[true]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n          "],[6,[23,2,["dropdown-trigger"]],[[12,"class",[28,"if",[[23,0,["isMercado"]],"artdeco-button artdeco-button--tertiary artdeco-button--1 artdeco-button--circle artdeco-button--muted","artdeco-button artdeco-button--tertiary artdeco-button--2 artdeco-button--circle artdeco-button--muted"],null]],[12,"data-control-name","filter_messages_by"]],[["@onClick"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"isFiltersDropdownOpen"],null]]],{"statements":[[0,"\\n\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","a11y-text","class","size"],["filter-icon",[28,"t",["i18n_filter_messages","messaging/components/search-form"],null],"artdeco-button__icon",[28,"if",[[23,0,["isMercado"]],"small"],null]]]],false],[0,"\\n          "]],"parameters":[]}],[0,"\\n"]],"parameters":[]}],[0,"        "],[6,[23,2,["dropdown-content"]],[],[[],[]],{"statements":[[0,"\\n          "],[7,"ul",true],[8],[0,"\\n            "],[7,"li",true],[8],[0,"\\n              "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","all_messages_filter"]],[["@classNames","@itemSelected"],["msg-search-form__filter",[28,"action",[[23,0,[]],[23,0,["setFilter"]],""],null]]],{"statements":[[0,"\\n                "],[1,[28,"t",["i18n_all_messages","messaging/components/search-form"],null],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n            "],[7,"li",true],[8],[0,"\\n              "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","archived_filter"]],[["@classNames","@itemSelected"],["msg-search-form__filter",[28,"action",[[23,0,[]],[23,0,["setFilter"]],"ARCHIVED"],null]]],{"statements":[[0,"\\n                "],[1,[28,"t",["i18n_archived","messaging/components/search-form"],null],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n            "],[7,"li",true],[8],[0,"\\n              "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","my_connections_filter"]],[["@classNames","@itemSelected"],["msg-search-form__filter",[28,"action",[[23,0,[]],[23,0,["setFilter"]],"CONNECTIONS"],null]]],{"statements":[[0,"\\n                "],[1,[28,"t",["i18n_connections","messaging/components/search-form"],null],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n            "],[7,"li",true],[8],[0,"\\n              "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","unread_filter"]],[["@classNames","@itemSelected"],["msg-search-form__filter",[28,"action",[[23,0,[]],[23,0,["setFilter"]],"UNREAD"],null]]],{"statements":[[0,"\\n                "],[7,"div",true],[10,"class","display-flex align-items-center justify-space-between"],[8],[0,"\\n                  "],[7,"span",true],[8],[1,[28,"t",["i18n_unread","messaging/components/search-form"],null],false],[9],[0,"\\n"],[4,"if",[[23,0,["unreadFilterOnboardingWidgetTrackingToken"]]],null,{"statements":[[0,"                    "],[5,"msg-ui@onboarding-notification",[],[["@showNotification","@renderInline"],[true,true]]],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n            "],[7,"li",true],[8],[0,"\\n              "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","inmail_filter"]],[["@classNames","@itemSelected"],["msg-search-form__filter",[28,"action",[[23,0,[]],[23,0,["setFilter"]],"INMAIL"],null]]],{"statements":[[0,"\\n                "],[1,[28,"t",["i18n_inmail","messaging/components/search-form"],null],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n            "],[7,"li",true],[8],[0,"\\n              "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","blocked_filter"]],[["@classNames","@itemSelected"],["msg-search-form__filter",[28,"action",[[23,0,[]],[23,0,["setFilter"]],"BLOCKED"],null]]],{"statements":[[0,"\\n                "],[1,[28,"t",["i18n_spam","messaging/components/search-form"],null],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n        "]],"parameters":[]}],[0,"\\n      "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]}],[0,"  "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showSelectedFilter"]]],null,{"statements":[[4,"if",[[23,0,["unreadBadgerEnabled"]]],null,{"statements":[[0,"    "],[5,"msg-ui@selected-filter",[],[["@count","@clearFilter","@currentFilter","@disabled"],[[23,0,["msgBadgeManager","unreadConversationsCount"]],[23,0,["clearFilters"]],[23,0,["filter"]],[23,4,[]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"ul",true],[10,"class","msg-conversations-container__selected-filters"],[8],[0,"\\n      "],[7,"li",true],[10,"class","msg-conversations-container__selected-filters-item t-14 t-black--light t-normal"],[8],[0,"\\n        "],[1,[28,"t",["i18n_filtered_to","messaging/components/search-form"],[["filter"],[[23,0,["filter"]]]]],false],[0,"\\n        "],[7,"button",false],[12,"class","msg-conversations-container__selected-filters-remove"],[12,"type","button"],[3,"action",[[23,0,[]],[23,0,["clearFilters"]]]],[8],[0,"\\n          "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","a11y-text"],["cancel-icon",[28,"t",["i18n_remove_filter_v2","messaging/components/search-form"],[["filter"],[[23,0,["filter"]]]]]]]],false],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@and",[[23,0,["suggestedFilter"]],[23,0,["showUnreadBadgerOnboarding"]]],null]],null,{"statements":[[4,"unless",[[23,4,[]]],null,{"statements":[[4,"unless",[[23,0,["filter"]]],null,{"statements":[[0,"      "],[5,"msg-ui@inbox-onboarding-widget",[],[["@title","@text","@legoConfig","@onDismiss","@onPrimary","@primaryActionText"],[[28,"t",["i18n_unread_badger_onboarding_title","messaging/components/search-form"],null],[28,"t",["i18n_unread_badger_onboarding_text","messaging/components/search-form"],null],[23,0,["unreadBadgerOnboardingLegoConfig"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"showUnreadBadgerOnboarding",false],null],[28,"fn",[[23,0,["onUnreadBadgerOnboardingPrimaryAction"]]],null],[28,"t",["i18n_view_unread","messaging/components/search-form"],[["count"],[[23,0,["msgBadgeManager","unreadConversationsCount"]]]]]]],{"statements":[[0,"\\n        "],[6,[23,1,["leftSection"]],[],[[],[]],{"statements":[[0,"\\n          "],[7,"div",true],[10,"class","pl2 pr3"],[8],[0,"\\n            "],[5,"artdeco-notification-badge@artdeco-notification-badge",[],[["@number","@showCount"],[[23,0,["msgBadgeManager","unreadConversationsCount"]],true]],{"statements":[[0,"\\n              "],[1,[28,"artdeco-icons-web@li-icon",null,[["type"],["messages-icon"]]],false],[0,"\\n            "]],"parameters":[]}],[0,"\\n          "],[9],[0,"\\n        "]],"parameters":[]}],[0,"\\n      "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["showSuggestedFilter"]]],null,{"statements":[[0,"  "],[5,"msg-ui@suggested-filter",[],[["@count","@suggestedFilter","@applyFilter","@disabled"],[[23,0,["msgBadgeManager","unreadConversationsCount"]],[23,0,["suggestedFilter"]],[23,0,["setFilter"]],[23,4,[]]]]],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"messaging/components/search-form.hbs"}}),{UNREAD_BADGER_ONBOARDING_LEGO:E,UNREAD_FILTER_ONBOARDING_LEGO:M}=i.default,{MESSAGE_REQUEST_FILTER:w}=i.default
let k=(r=Ember.inject.service("lego@resolver"),o=Ember.inject.service("lego@tracking"),l=Ember.inject.service("lix"),c=Ember.inject.service("msg-badge-manager@msg-badge-manager"),m=Ember.computed("msgBadgeManager.unreadConversationsCount","unreadBadgerEnabled"),p=Ember.computed("filter").readOnly(),d=Ember.computed("suggestedFilter","showUnreadBadgerOnboarding","showSelectedFilter"),u=Ember._action,g=Ember._action,h=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",f,this);(0,t.default)(this,"legoTracking",b,this);(0,t.default)(this,"lix",y,this);(0,t.default)(this,"msgBadgeManager",v,this);(0,n.default)(this,"isFiltersDropdownOpen",!1);(0,n.default)(this,"unreadBadgerOnboardingLegoConfig",E);(0,n.default)(this,"unreadFilterOnboardingLegoConfig",M)}get suggestedFilter(){return this.msgBadgeManager.unreadConversationsCount&&this.unreadBadgerEnabled?"UNREAD":null}get showSelectedFilter(){return this.filter&&this.filter!==w.PENDING&&this.filter!==w.DECLINED}get showSuggestedFilter(){return this.suggestedFilter&&!this.showUnreadBadgerOnboarding&&!this.showSelectedFilter}init(){super.init.apply(this,arguments)
this._fetchLegoWidgetForTooltip()
Ember.setProperties(this,{isMercado:this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme"),unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger"),showUnreadBadgerOnboarding:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger")})
this.unreadBadgerEnabled&&this._fetchUnreadFilterOnboardingWidget()}_fetchLegoWidgetForTooltip(){this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-archived-message-ads-tooltip")&&this.legoResolver.fireLegoCall({pageKey:"messaging_spinmail_archive",slotId:"archive",groupId:"messaging_spinmail_archive",widgetId:"messaging_spinmail_archive"}).then(e=>{if(!this.isDestroying&&e){Ember.setProperties(this,{showTooltip:!0,showNewTooltipText:"sponsored_messages"===this.lix.getTreatment("voyager.web.messaging-enable-archived-message-ads-tooltip")})
this.legoTracking.sendLegoImpression(e.trackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}})}_fetchUnreadFilterOnboardingWidget(){return this.legoResolver.fireLegoCall(M).then(e=>{if(!this.isDestroying&&e){Ember.set(this,"unreadFilterOnboardingWidgetTrackingToken",Ember.get(e,"trackingToken"))
return e}})}_sendUnreadFilterOnboardingImpression(){this.unreadFilterOnboardingWidgetTrackingToken&&this.legoTracking.sendLegoImpression(this.unreadFilterOnboardingWidgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}toggleConvoFiltersDropdown(e){Ember.set(this,"isFiltersDropdownOpen",e)
e&&this._sendUnreadFilterOnboardingImpression()}onUnreadBadgerOnboardingPrimaryAction(){Ember.set(this,"showUnreadBadgerOnboarding",!1)
this.setFilter("UNREAD")}},f=(0,s.default)(h.prototype,"legoResolver",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(h.prototype,"legoTracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(h.prototype,"lix",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(h.prototype,"msgBadgeManager",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"suggestedFilter",[m],Object.getOwnPropertyDescriptor(h.prototype,"suggestedFilter"),h.prototype),(0,s.default)(h.prototype,"showSelectedFilter",[p],Object.getOwnPropertyDescriptor(h.prototype,"showSelectedFilter"),h.prototype),(0,s.default)(h.prototype,"showSuggestedFilter",[d],Object.getOwnPropertyDescriptor(h.prototype,"showSuggestedFilter"),h.prototype),(0,s.default)(h.prototype,"toggleConvoFiltersDropdown",[u],Object.getOwnPropertyDescriptor(h.prototype,"toggleConvoFiltersDropdown"),h.prototype),(0,s.default)(h.prototype,"onUnreadBadgerOnboardingPrimaryAction",[g],Object.getOwnPropertyDescriptor(h.prototype,"onUnreadBadgerOnboardingPrimaryAction"),h.prototype),h)
e.default=k
Ember._setComponentTemplate(_,k)})
define("messaging/components/sortable-group",["exports","ember-sortable/components/sortable-group"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n})
define("messaging/components/sortable-handle",["exports","ember-sortable/components/sortable-handle"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n})
define("messaging/components/sortable-item",["exports","ember-sortable/components/sortable-item"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n})
define("messaging/components/spinmail/spinmail-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/initializerWarningHelper","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember-decorators/component","msg-data/utils/spinmail/sponsored-conversation-properties","msg-shared/utils/constants"],function(e,t,n,s,a,i,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m,p,d,u,g
const h=Ember.HTMLBars.template({id:"74H75/Un",block:'{"symbols":["assetLoader"],"statements":[[5,"title-bar@title-bar",[],[["@bemPrefix","@dismissalAction","@icon"],["msg-title-bar",[28,"action",[[23,0,[]],"back"],null],"arrow-left-icon"]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["isCompanySender"]]],null,{"statements":[[0,"    "],[5,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[28,"global-helpers@urn-to-id",[[23,0,["conversation","participants","firstObject","miniCompany","entityUrn"]]],null]]],{"statements":[[0,"\\n      "],[5,"messaging@entity-lockup",[],[["@title","@conversation"],[[28,"t",["i18n_spinmail_company_name","messaging/components/spinmail/spinmail-container"],[["names"],[[23,0,["conversation","participantNames"]]]]],[23,0,["conversation"]]]]],[0,"\\n    "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"div",true],[10,"class","truncate"],[8],[0,"\\n      "],[5,"messaging@entity-lockup",[],[["@title","@conversation"],[[28,"t",["i18n_spinmail_company_name","messaging/components/spinmail/spinmail-container"],[["names"],[[23,0,["conversation","participantNames"]]]]],[23,0,["conversation"]]]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]}],[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-shared-modals@thread-actions",[],[["@conversation","@redirectToActiveConversation","@enableReportingSponsoredConversation"],[[23,0,["conversation"]],[23,0,["redirectToActiveConversation"]],[23,0,["enableReportingSponsoredConversation"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]}],[0,"\\n\\n"],[5,"msg-spinmail@spinmail-thread",[],[["@conversation","@actionTrackingPrefix","@redirectToActiveConversation","@isCompanySender"],[[23,0,["conversation"]],[23,0,["actionTrackingPrefix"]],[23,0,["redirectToActiveConversation"]],[23,0,["isCompanySender"]]]]],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"messaging/components/spinmail/spinmail-container.hbs"}}),{GHOST_TYPE:f}=o.default
let b=(l=(0,i.classNames)("flex-1","display-flex","flex-column"),c=Ember.computed("conversation").readOnly(),m=Ember.computed.equal("conversation.participants.firstObject.ghostType",f.COMPANY).readOnly(),p=Ember._action,l(d=(u=class extends Ember.Component{constructor(){super(...arguments);(0,n.default)(this,"actionTrackingPrefix","");(0,t.default)(this,"isCompanySender",g,this)}get enableReportingSponsoredConversation(){return(0,r.enableReportingSponsoredInMail)(this.conversation)}back(){this.redirectBack&&this.redirectBack()}},(0,a.default)(u.prototype,"enableReportingSponsoredConversation",[c],Object.getOwnPropertyDescriptor(u.prototype,"enableReportingSponsoredConversation"),u.prototype),g=(0,a.default)(u.prototype,"isCompanySender",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(u.prototype,"back",[p],Object.getOwnPropertyDescriptor(u.prototype,"back"),u.prototype),u))||d)
e.default=b
Ember._setComponentTemplate(h,b)})
define("messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-data/utils/spinmail/sponsored-conversation-properties","msg-shared/utils/constants"],function(e,t,n,s,a,i,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m,p,d,u,g,h,f,b
const y=Ember.HTMLBars.template({id:"YT0Dj+bH",block:'{"symbols":["scroller","list","assetLoader"],"statements":[[5,"title-bar@title-bar",[],[["@bemPrefix","@dismissalAction","@icon"],["msg-title-bar",[28,"action",[[23,0,[]],"back"],null],"arrow-left-icon"]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["isCompanySender"]]],null,{"statements":[[0,"    "],[5,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[28,"global-helpers@urn-to-id",[[23,0,["conversation","participants","firstObject","miniCompany","entityUrn"]]],null]]],{"statements":[[0,"\\n      "],[5,"messaging@entity-lockup",[],[["@title","@conversation"],[[28,"t",["i18n_advertiser_name","messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread"],[["names"],[[23,0,["conversation","participantNames"]]]]],[23,0,["conversation"]]]]],[0,"\\n    "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"div",true],[10,"class","truncate"],[8],[0,"\\n      "],[5,"messaging@entity-lockup",[],[["@title","@conversation"],[[28,"t",["i18n_advertiser_name","messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread"],[["names"],[[23,0,["conversation","participantNames"]]]]],[23,0,["conversation"]]]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]}],[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,3,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-shared-modals@thread-actions",[],[["@conversation","@redirectToActiveConversation","@enableReportingSponsoredConversation"],[[23,0,["conversation"]],[23,0,["redirectToActiveConversation"]],[23,0,["enableReportingSponsoredConversation"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[3]}],[0,"\\n"]],"parameters":[]}],[0,"\\n\\n"],[4,"if",[[23,0,["renderThread"]]],null,{"statements":[[0,"  "],[7,"h2",true],[10,"class","visually-hidden"],[8],[0,"\\n    "],[1,[28,"t",["i18n_a11y_message_list","messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread"],null],false],[0,"\\n  "],[9],[0,"\\n  "],[5,"msg-ui@message-list-scroller",[],[["@initialEventsRequest","@conversation","@latestEvent","@typingParticipants","@classNames","@loadMore"],[[23,0,["initialEventsRequest"]],[23,0,["conversation"]],[23,0,["conversation","latestEvent"]],[23,0,["conversation","typingParticipants"]],"mbA",[23,0,["loadMore"]]]],{"statements":[[0,"\\n    "],[5,"msg-ui@message-list",[],[["@isLoading","@conversation","@isCompanySender","@showQuickReplies","@resendMessage"],[[23,1,["props","isLoading"]],[23,0,["conversation"]],[23,0,["isCompanySender"]],false,[23,0,["resendMessage"]]]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["props","groupedEvent","event","isSponsoredMessage"]]],null,{"statements":[[0,"        "],[5,"msg-spinmail@sponsored-conversation/sponsored-message-actions",[],[["@conversation","@customContent","@saveSponsoredMessageReply"],[[23,0,["conversation"]],[23,2,["props","groupedEvent","event","eventContent","customContent"]],[23,0,["saveSponsoredMessageReply"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[2]}],[0,"\\n\\n"],[4,"if",[[23,1,["props","hasNewMessages"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","msg-s-message-list__new-message msg-animation__indicator"],[8],[0,"\\n        "],[7,"span",true],[10,"class","visually-hidden"],[8],[0,"\\n          "],[1,[28,"t",["i18n_new_messages_v2","messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread"],null],false],[0,"\\n        "],[9],[0,"\\n        "],[5,"artdeco-button@artdeco-button",[],[["@class","@size","@controlType","@click","@icon"],["msg-s-message-list__new-message-button block",1,"button",[28,"action",[[23,0,[]],[23,1,["actions","scrollToNewMessages"]]],null],"arrow-down-icon"]],{"statements":[[0,"\\n          "],[1,[28,"t",["i18n_new_messages_v2","messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread"],null],false],[0,"\\n        "]],"parameters":[]}],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[1]}],[0,"\\n  "],[5,"msg-spinmail@legal-text",[],[["@classNames","@legalText","@conversationId","@isSponsoredConversation"],["mh4",[23,0,["legalText"]],[23,0,["conversation","id"]],[23,0,["conversation","isSponsoredConversation"]]]]],[0,"\\n"],[4,"if",[[23,0,["conversation","blocked"]]],null,{"statements":[[0,"    "],[5,"msg-ui@conversation-unspam",[],[["@conversation","@redirectToActiveConversation"],[[23,0,["conversation"]],[23,0,["redirectToActiveConversation"]]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"  "],[5,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]]],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"messaging/components/spinmail/sponsored-conversation/sponsored-conversation-thread.hbs"}}),{GHOST_TYPE:v}=o.default
let _=(l=(0,i.classNames)("msg-sponsored-conversation-thread"),c=Ember.inject.service("lix"),m=Ember.computed("conversation").readOnly(),p=Ember.computed("conversation").readOnly(),d=Ember.computed.equal("conversation.participants.firstObject.ghostType",v.COMPANY).readOnly(),u=Ember._action,l(g=(h=class extends Ember.Component{constructor(){super(...arguments);(0,n.default)(this,"rumComponentId","messaging/sponsored-conversation-thread");(0,t.default)(this,"lix",f,this);(0,t.default)(this,"isCompanySender",b,this)}get legalText(){return(0,r.getSponsoredConversationLegalTextFromConversation)(this.conversation)}get enableReportingSponsoredConversation(){return(0,r.enableReportingSponsoredMessage)(this.conversation)}back(){var e
null===(e=this.redirectBack)||void 0===e||e.call(this)}},f=(0,s.default)(h.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"legalText",[m],Object.getOwnPropertyDescriptor(h.prototype,"legalText"),h.prototype),(0,s.default)(h.prototype,"enableReportingSponsoredConversation",[p],Object.getOwnPropertyDescriptor(h.prototype,"enableReportingSponsoredConversation"),h.prototype),b=(0,s.default)(h.prototype,"isCompanySender",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"back",[u],Object.getOwnPropertyDescriptor(h.prototype,"back"),h.prototype),h))||g)
e.default=_
Ember._setComponentTemplate(y,_)})
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-auto-complete","messaging/components/typeahead/typeahead-auto-complete")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-city","messaging/components/typeahead/typeahead-city")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-company","messaging/components/typeahead/typeahead-company")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-country","messaging/components/typeahead/typeahead-country")
define("messaging/components/typeahead/typeahead-current-location",["exports","ember-cli-search-typeahead/templates/components/typeahead/typeahead-current-location","ember-cli-search-typeahead/components/typeahead/typeahead-current-location"],function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=n.default.extend({i18n:Ember.inject.service("i18n"),_getI18nText(e){return this.i18n.getMessageRenderer(t.default,e)([])}})
e.default=s})
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-degree","messaging/components/typeahead/typeahead-degree")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-field-of-study","messaging/components/typeahead/typeahead-field-of-study")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-geo","messaging/components/typeahead/typeahead-geo")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-group","messaging/components/typeahead/typeahead-group")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-hit","messaging/components/typeahead/typeahead-hit")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-industry","messaging/components/typeahead/typeahead-industry")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-input","messaging/components/typeahead/typeahead-input")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-job-function","messaging/components/typeahead/typeahead-job-function")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-language","messaging/components/typeahead/typeahead-language")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-postal-code","messaging/components/typeahead/typeahead-postal-code")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-profile","messaging/components/typeahead/typeahead-profile")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-region","messaging/components/typeahead/typeahead-region")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-result-image","messaging/components/typeahead/typeahead-result-image")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-results","messaging/components/typeahead/typeahead-results")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-school","messaging/components/typeahead/typeahead-school")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-showcase","messaging/components/typeahead/typeahead-showcase")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-site-feature","messaging/components/typeahead/typeahead-site-feature")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-skill","messaging/components/typeahead/typeahead-skill")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-state","messaging/components/typeahead/typeahead-state")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-suggestion","messaging/components/typeahead/typeahead-suggestion")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-title","messaging/components/typeahead/typeahead-title")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-topic","messaging/components/typeahead/typeahead-topic")
define("messaging/config/environment",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="messaging/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(s){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n})
define("messaging/controllers/application",["exports","@babel/runtime/helpers/esm/toConsumableArray","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/constants","msg-shared/utils/custom-tracking","ember-cli-pemberly-tracking/utils/tracking","global-utils/utils/ember-cli-search-typeahead-utils","global-utils/utils/is-browser","email-confirmation/utils/email-confirmation-helpers","gdpr-notice/utils/notice-constants"],function(e,t,n,s,a,i,r,o,l,c,m,p,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,g,h,f,b,y,v,_,E,M,w,k,C,T,S,R,P,O,I,x,D,A,N,j,L,F,q,U,B,z,G,H,K,V,Q,W,Y,$,Z,J,X,ee,te,ne,se,ae,ie,re,oe,le,ce,me,pe,de,ue,ge,he
const{CONTROL_NAMES:fe,ACTION_TYPES:{ARCHIVE:be,UNARCHIVE:ye},KINDNESS_REMINDER_LEGO:ve}=r.default,{CONVERSATIONS_PER_PAGE:_e,CONVERSATIONS_DEFAULT_FETCH_SIZE:Ee,IMPRESSION_KEYS:{CONVERSATION:Me},MESSAGE_REQUEST_FILTER:we,PAGEVIEW_KEYS:{CONVERSATION_LIST:ke,CONVERSATION_LIST_SCROLL:Ce}}=r.default
let Te=(u=Ember.inject.service("lix"),g=Ember.inject.service("store"),h=Ember.inject.service("router"),f=Ember.inject.service("tracking"),b=Ember.inject.service("msg-data@data-manager"),y=Ember.inject.service("search-services@search-tracking-v2"),v=Ember.inject.service("global-services@window"),_=Ember.computed.reads("searchTerm"),E=Ember.computed("inputSearchTerm").readOnly(),M=Ember.computed("showPendingMessageRequestList","showDeclinedMessageRequestList").readOnly(),w=Ember.computed.not("showMessageRequestList"),k=Ember.computed("showMessageRequestList","isBulkActionsMode"),C=Ember.computed("filter","hasActiveSearch").readOnly(),T=Ember.computed.equal("filter",we.PENDING).readOnly(),S=Ember.computed.equal("filter",we.DECLINED),R=Ember.computed.filter("model.collection.data.@each.isLoaded",(function(e){return void 0!==e&&!0===Ember.get(e,"isLoaded")})),P=Ember.computed("isSearching","model.collection.data.[]"),O=Ember.computed("searchTerm","filter").readOnly(),I=Ember.computed("isSearching","enableKindnessReminder").readOnly(),x=Ember._action,D=Ember._action,A=Ember._action,N=Ember._action,j=Ember._action,L=Ember._action,F=Ember._action,q=Ember._action,U=Ember._action,B=Ember._action,z=Ember._action,G=Ember._action,H=Ember._action,K=Ember._action,V=Ember._action,Q=Ember._action,W=Ember._action,Y=Ember._action,$=Ember._action,Z=Ember._action,J=Ember._action,X=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,se=class extends Ember.Controller{constructor(){super(...arguments);(0,n.default)(this,"lix",ae,this);(0,n.default)(this,"store",ie,this);(0,n.default)(this,"router",re,this);(0,n.default)(this,"tracking",oe,this);(0,n.default)(this,"msgDataManager",le,this);(0,n.default)(this,"searchTrackingV2",ce,this);(0,n.default)(this,"windowService",me,this);(0,s.default)(this,"spinMailAdUnit",null);(0,s.default)(this,"showConfirmationModalOnRender",!0);(0,s.default)(this,"isHeaderDropdownMenuOpen",!1);(0,s.default)(this,"queryParams",["searchTerm","filter"]);(0,s.default)(this,"conversationQuery",void 0);(0,s.default)(this,"isFiltersDropdownOpen",!1);(0,s.default)(this,"kindnessReminderLegoConfig",ve);(0,s.default)(this,"kindnessReminderHelpCenterLink","/legal/professional-community-policies");(0,n.default)(this,"inputSearchTerm",pe,this);(0,n.default)(this,"showMessageRequestInboxInHeaderDropdown",de,this);(0,n.default)(this,"showPendingMessageRequestList",ue,this);(0,n.default)(this,"showDeclinedMessageRequestList",ge,this);(0,s.default)(this,"hasMorePendingMessageRequestToLoad",!0);(0,s.default)(this,"isLoading",!1);(0,s.default)(this,"isSearchLoading",!1);(0,n.default)(this,"loadedConversations",he,this)}get hasActiveSearch(){return this.inputSearchTerm&&this.inputSearchTerm.trim().length}get showMessageRequestList(){return this.showPendingMessageRequestList||this.showDeclinedMessageRequestList}get showSearchInput(){return!this.showMessageRequestList&&!this.isBulkActionsMode}get showMessageRequestContent(){const e=this.filter
return!(e&&e!==we.PENDING&&e!==we.DECLINED||this.hasActiveSearch)}get continuousConversations(){const e=Ember.get(this,"model.collection.data")
return this.isSearching?e:e.filter(e=>!Ember.get(e,"blocked")&&!Ember.get(e,"archived"))}get isSearching(){return void 0!==this.searchTerm||void 0!==this.filter}get showKindnessReminder(){return this.enableKindnessReminder&&!this.isSearching}init(){super.init.apply(this,arguments)
Ember.setProperties(this,{gdprNoticeTypes:[d.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL,d.GDPR_NOTICE_POLICY_TYPE.SMART_REPLIES],enableOlympusKeys:this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn"),selectedConversations:[],pageSize:_e,pageKeys:{conversationList:{scrollPageKey:Ce}},enableKindnessReminder:this.lix.getTreatmentIsEnabled("voyager.web.messaging-kindness-reminder"),enableUpdatedMRBanner:this.lix.getTreatmentIsEnabled("voyager.web.messaging-mr-entry-point"),isMercadoEnabled:this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme")})}_updateQueryParams(e){const t={searchTerm:this.searchTerm,filter:this.filter}
Ember.assign(t,e)
return this.replaceRoute({queryParams:t})}_searchConversations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
if(e.trim()!==this.searchTerm&&(e.trim()||this.searchTerm)){this.tracking.fireInteractionEvent("search_box","KEYBOARD_SUBMIT")
Ember.set(this,"isSearchLoading",!0)
this._updateQueryParams({searchTerm:e})}}_cancelDebounce(){try{this.cancelDebounce("_searchConversations")}catch(e){}}openPendingMessageRequestList(){this.transitionToRoute({queryParams:{filter:we.PENDING}})}openDeclinedMessageRequestConversationList(){this.transitionToRoute({queryParams:{filter:we.DECLINED}})}openAwayMessageSettingsModal(e){null==e||e.stopPropagation()
Ember.set(this,"awayMessageSettingsModalIsOpen",!0)}searchConversations(e){this._cancelDebounce()
this._searchConversations(e)}clearActiveSearch(){this._cancelDebounce()
Ember.set(this,"inputSearchTerm","")
this._searchConversations()}closeSelectFilter(){Ember.set(this,"isFiltersDropdownOpen",!1)}loadMore(){if(this.isLoading&&!this.lazyLoadConversations)return Ember.RSVP.resolve({state:"canceled"})
Ember.setProperties(this,{isLoading:!0,lazyLoadConversations:!1,hasMorePendingMessageRequestToLoad:!0})
return Ember.get(this,"model.collection").loadMore().then(e=>{!this.isDestroying&&this.showPendingMessageRequestList&&Ember.set(this,"hasMorePendingMessageRequestToLoad",e.length===Ee)
return{state:"resolved",newRecordCount:e.length}}).finally(()=>{this.isDestroying||Ember.set(this,"isLoading",!1)})}setFilter(e){this._updateQueryParams({filter:e})
Ember.set(this,"isFiltersDropdownOpen",!1)}clearFilters(){this.tracking.fireInteractionEvent("dismiss_filter")
this.send("closeSelectFilter")
this._updateQueryParams({filter:""})}fireImpressionTracking(e,t){let{convoIndex:n}=t
if("conversation"===e){const e=this.continuousConversations.objectAt(n)
e&&this.tracking.fireTrackingPayload(Me,{moduleKey:this.tracking.getCurrentPageKey(),conversations:[{objectUrn:Ember.get(e,"computedBackendUrn"),trackingId:(0,l.generateTrackingId)()}],participantPresenceStatuses:Ember.get(e,"participantPresenceStatuses")})
n>0&&n%this.pageSize==0&&this.tracking.firePageViewEvent(Ce)}}fireSearchImpressionTracking(e,t){if(this.hasActiveSearch){const n=Ember.get(e,"backendUrn"),s=Ember.get(this,"model.collection.metadata"),a=t+1,i=1,r=Ember.get(s,"rawSearchId"),o=Ember.get(s,"trackingIdMap")
if(r&&o){const t=(0,c.getResultTrackingInfo)(e,r,o[n],{row:a,column:i}),s={duration:0,resultSize:{height:0,width:0},visibleHeight:0,visibleTime:0}
this.searchTrackingV2.trackImpression(t,s)}}}firePageViewTracking(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke
const n=this.router.currentRouteName
"conversation-list"===e&&["messaging.thread","messaging.index"].includes(n)&&(Ember.get(this,"continuousConversations.length")?this.tracking.firePageViewEvent(t):this.isSearching&&this.tracking.firePageViewEvent("flagship3_messaging_search_no_results"))}checkForUnconfirmedEmail(){this.showConfirmationModalOnRender&&(0,p.getConfirmationModalData)(this.store).then(e=>{this.isDestroying||(e&&!e.isEmailConfirmed?Ember.setProperties(this,new p.ModalConfig(e)):this.showConfirmationModalOnRender=!1)})}resendConfirmationEmail(){var e
return(e=this.store.adapterFor("-ember-m3")).ajax.apply(e,(0,t.default)((0,p.resendHandleConfirmationRequest)(Ember.get(this,`${p.MODAL_CONTEXT_PROP}.emailAddress`))))}spinMailAdClicked(){const e=Ember.get(this,"spinMailAdUnit.adUnit.adUnitTracking")
this.store.adapterFor("-ember-m3").ajax(e,"GET",{dataType:"text"})}loadCustomSpinMailAd(e){Ember.set(this,"spinMailAdUnit",e)}toggleConversationArchiveState(e){return this.msgDataManager.toggleConversationArchive(e).then(t=>{const n=Ember.get(e,"archived"),s=n?fe.ACTIONS.ARCHIVE:fe.ACTIONS.UNARCHIVE,a=n?be:ye
o.default.fireDetailActionEvent({actionType:a,controlName:s,conversation:e,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
return t}).then(()=>{this.send("redirectOnActiveConversationAction",Ember.get(e,"id"))})}toggleConversationReadState(e){return this.msgDataManager.toggleConversationRead(e)}enterBulkActionsMode(){Ember.setProperties(this,{isBulkActionsMode:!0,isHeaderDropdownMenuOpen:!1})}onConversationCardClick(e){e.toggleProperty("checked")
const t=this.continuousConversations.filter(e=>Ember.get(e,"checked"))
Ember.set(this,"selectedConversations",t)
const n=Ember.get(e,"checked")?"bulk_select_conversation":"bulk_unselect_conversation"
this.tracking.fireInteractionEvent(n)
!this.isBulkActionsMode&&t.length>0?Ember.set(this,"isBulkActionsMode",!0):0===t.length&&Ember.set(this,"isBulkActionsMode",!1)}fireSearchActionEventTracking(e){if(this.hasActiveSearch){const t=Ember.get(e,"backendUrn"),n=Ember.get(this,"model.collection.metadata")
this.searchTrackingV2.trackAction("MESSAGING_VIEW_RESULT",(0,c.getResultTrackingInfo)(e,Ember.get(n,"rawSearchId"),Ember.get(n,"trackingIdMap")[t]))}}onExitBulkActionsMode(){Ember.setProperties(this,{selectedConversations:[],isBulkActionsMode:!1})}willExecuteBulkAction(){Ember.setProperties(this,{dataLoaded:!1,isBulkActionsMode:!1})}didExecuteBulkAction(e){if("delete"===e){const e=this.continuousConversations.find(e=>!Ember.get(e,"checked"))
this.send("redirectToThread",e?Ember.get(e,"id"):void 0)}Ember.set(this,"dataLoaded",!0)}impressionKindnessReminder(){this.tracking.firePageViewEvent("d_flagship3_messaging_kindness_banner")}clickKindnessReminder(){this.tracking.fireInteractionEvent("open_kindness_learn_more")
if(m.default){const e=this.kindnessReminderHelpCenterLink
if(!e)return
this.windowService.open(e,"_blank")}}},ae=(0,a.default)(se.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,a.default)(se.prototype,"store",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,a.default)(se.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,a.default)(se.prototype,"tracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,a.default)(se.prototype,"msgDataManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,a.default)(se.prototype,"searchTrackingV2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,a.default)(se.prototype,"windowService",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,a.default)(se.prototype,"inputSearchTerm",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(se.prototype,"hasActiveSearch",[E],Object.getOwnPropertyDescriptor(se.prototype,"hasActiveSearch"),se.prototype),(0,a.default)(se.prototype,"showMessageRequestList",[M],Object.getOwnPropertyDescriptor(se.prototype,"showMessageRequestList"),se.prototype),de=(0,a.default)(se.prototype,"showMessageRequestInboxInHeaderDropdown",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(se.prototype,"showSearchInput",[k],Object.getOwnPropertyDescriptor(se.prototype,"showSearchInput"),se.prototype),(0,a.default)(se.prototype,"showMessageRequestContent",[C],Object.getOwnPropertyDescriptor(se.prototype,"showMessageRequestContent"),se.prototype),ue=(0,a.default)(se.prototype,"showPendingMessageRequestList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,a.default)(se.prototype,"showDeclinedMessageRequestList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,a.default)(se.prototype,"loadedConversations",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(se.prototype,"continuousConversations",[P],Object.getOwnPropertyDescriptor(se.prototype,"continuousConversations"),se.prototype),(0,a.default)(se.prototype,"isSearching",[O],Object.getOwnPropertyDescriptor(se.prototype,"isSearching"),se.prototype),(0,a.default)(se.prototype,"showKindnessReminder",[I],Object.getOwnPropertyDescriptor(se.prototype,"showKindnessReminder"),se.prototype),(0,a.default)(se.prototype,"openPendingMessageRequestList",[x],Object.getOwnPropertyDescriptor(se.prototype,"openPendingMessageRequestList"),se.prototype),(0,a.default)(se.prototype,"openDeclinedMessageRequestConversationList",[D],Object.getOwnPropertyDescriptor(se.prototype,"openDeclinedMessageRequestConversationList"),se.prototype),(0,a.default)(se.prototype,"openAwayMessageSettingsModal",[A],Object.getOwnPropertyDescriptor(se.prototype,"openAwayMessageSettingsModal"),se.prototype),(0,a.default)(se.prototype,"searchConversations",[N],Object.getOwnPropertyDescriptor(se.prototype,"searchConversations"),se.prototype),(0,a.default)(se.prototype,"clearActiveSearch",[j],Object.getOwnPropertyDescriptor(se.prototype,"clearActiveSearch"),se.prototype),(0,a.default)(se.prototype,"closeSelectFilter",[L],Object.getOwnPropertyDescriptor(se.prototype,"closeSelectFilter"),se.prototype),(0,a.default)(se.prototype,"loadMore",[F],Object.getOwnPropertyDescriptor(se.prototype,"loadMore"),se.prototype),(0,a.default)(se.prototype,"setFilter",[q],Object.getOwnPropertyDescriptor(se.prototype,"setFilter"),se.prototype),(0,a.default)(se.prototype,"clearFilters",[U],Object.getOwnPropertyDescriptor(se.prototype,"clearFilters"),se.prototype),(0,a.default)(se.prototype,"fireImpressionTracking",[B],Object.getOwnPropertyDescriptor(se.prototype,"fireImpressionTracking"),se.prototype),(0,a.default)(se.prototype,"fireSearchImpressionTracking",[z],Object.getOwnPropertyDescriptor(se.prototype,"fireSearchImpressionTracking"),se.prototype),(0,a.default)(se.prototype,"firePageViewTracking",[G],Object.getOwnPropertyDescriptor(se.prototype,"firePageViewTracking"),se.prototype),(0,a.default)(se.prototype,"resendConfirmationEmail",[H],Object.getOwnPropertyDescriptor(se.prototype,"resendConfirmationEmail"),se.prototype),(0,a.default)(se.prototype,"spinMailAdClicked",[K],Object.getOwnPropertyDescriptor(se.prototype,"spinMailAdClicked"),se.prototype),(0,a.default)(se.prototype,"loadCustomSpinMailAd",[V],Object.getOwnPropertyDescriptor(se.prototype,"loadCustomSpinMailAd"),se.prototype),(0,a.default)(se.prototype,"toggleConversationArchiveState",[Q],Object.getOwnPropertyDescriptor(se.prototype,"toggleConversationArchiveState"),se.prototype),(0,a.default)(se.prototype,"toggleConversationReadState",[W],Object.getOwnPropertyDescriptor(se.prototype,"toggleConversationReadState"),se.prototype),(0,a.default)(se.prototype,"enterBulkActionsMode",[Y],Object.getOwnPropertyDescriptor(se.prototype,"enterBulkActionsMode"),se.prototype),(0,a.default)(se.prototype,"onConversationCardClick",[$],Object.getOwnPropertyDescriptor(se.prototype,"onConversationCardClick"),se.prototype),(0,a.default)(se.prototype,"fireSearchActionEventTracking",[Z],Object.getOwnPropertyDescriptor(se.prototype,"fireSearchActionEventTracking"),se.prototype),(0,a.default)(se.prototype,"onExitBulkActionsMode",[J],Object.getOwnPropertyDescriptor(se.prototype,"onExitBulkActionsMode"),se.prototype),(0,a.default)(se.prototype,"willExecuteBulkAction",[X],Object.getOwnPropertyDescriptor(se.prototype,"willExecuteBulkAction"),se.prototype),(0,a.default)(se.prototype,"didExecuteBulkAction",[ee],Object.getOwnPropertyDescriptor(se.prototype,"didExecuteBulkAction"),se.prototype),(0,a.default)(se.prototype,"impressionKindnessReminder",[te],Object.getOwnPropertyDescriptor(se.prototype,"impressionKindnessReminder"),se.prototype),(0,a.default)(se.prototype,"clickKindnessReminder",[ne],Object.getOwnPropertyDescriptor(se.prototype,"clickKindnessReminder"),se.prototype),se)
e.default=Te})
define.alias("messaging/controllers/compose","messaging/controllers/compose-group")
define("messaging/controllers/compose",["exports","@babel/runtime/helpers/esm/objectSpread2","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-data/utils/persist","global-utils/utils/api-compat","@ember-decorators/object","msg-shared/utils/constants","msg-shared/utils/funnel-tracking","global-utils/utils/logger","ember-batcher","global-helpers/helpers/name","msg-shared/utils/user-visible-exception-helper"],function(e,t,n,s,a,i,r,o,l,c,m,p,d,u,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,y,v,_,E,M,w,k,C,T,S,R,P,O,I,x,D,A,N,j,L,F,q,U,B,z,G,H,K,V,Q,W,Y,$,Z,J,X,ee,te,ne,se,ae,ie,re,oe,le
const{MESSAGE_TYPE:ce,CONTROL_NAMES:{EDIT_GROUP_NAME:{DONE:me},CONVERSATION:{IMAGE_PASTE:pe,IMAGE_UPLOAD:de,FILE_UPLOAD:ue}},MESSAGE_COLLECTION_TYPES:ge,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:he}=c.default
let fe=(h=Ember.inject.service("authentication@authenticated-user"),f=Ember.inject.service("store"),b=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),y=Ember.inject.service("tracking"),v=Ember.inject.service("global-services@a11y-notification"),_=Ember.inject.service("i18n"),E=Ember.inject.service("msg-data@data-manager"),M=Ember.inject.service("global-services@identity-store"),w=Ember.inject.service("global-services@local-storage"),k=Ember.inject.service("router"),C=Ember.inject.service("global-services@window"),T=Ember.inject.service("lix"),S=Ember.computed.gt("model.recipients.length",1).readOnly(),R=Ember.computed.bool("model.conversation.id").readOnly(),P=Ember.computed("model.isInmailCompose","model.loadingConvoHistory","model.recipients.length").readOnly(),O=Ember.computed.bool("model.messageContext").readOnly(),I=(0,l.on)("messageSendSuccess"),x=(0,l.on)("messageSendFail"),D=Ember._action,A=Ember._action,N=Ember._action,j=Ember._action,L=Ember._action,F=Ember._action,q=Ember._action,U=Ember._action,B=Ember._action,z=Ember._action,G=Ember._action,H=Ember._action,K=Ember._action,V=Ember._action,Q=class extends Ember.Controller{get showOneToOneProfileCard(){return!Ember.get(this,"model.isInmailCompose")&&!Ember.get(this,"model.loadingConvoHistory")&&1===Ember.get(this,"model.recipients.length")}constructor(){super(...arguments);(0,s.default)(this,"queryParams",["after","afterParam","connId","groupId","invitation","recipient","type","body","subject","recipients","composeOptionType","contextEntityUrn","upsell"]);(0,n.default)(this,"authenticatedUser",W,this);(0,n.default)(this,"store",Y,this);(0,n.default)(this,"persistentToastManager",$,this);(0,n.default)(this,"tracking",Z,this);(0,n.default)(this,"a11yNotification",J,this);(0,n.default)(this,"i18n",X,this);(0,n.default)(this,"msgDataManager",ee,this);(0,n.default)(this,"identityStore",te,this);(0,n.default)(this,"ls",ne,this);(0,n.default)(this,"router",se,this);(0,n.default)(this,"windowService",ae,this);(0,n.default)(this,"lix",ie,this);(0,n.default)(this,"showGroupNameInput",re,this);(0,s.default)(this,"dragAndDropTrackingKeys",he.PILLAR);(0,s.default)(this,"composeIsFullyExpanded",!1);(0,s.default)(this,"loadingConvoHistory",!1);(0,s.default)(this,"isDraftThreadActionsDropdownOpen",!1);(0,n.default)(this,"showMessageList",oe,this);(0,n.default)(this,"isMessageRequestCompose",le,this)
Ember.setProperties(this,{enableComposeRecipientSuggestion:this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-recipient-suggestion"),enableMessageSendAutoRetry:this.lix.getTreatmentIsEnabled("voyager.web.messaging-auto-retry-send"),funnelTrackingData:m.default.createFunnelTrackingData()})
this.msgDataManager.setMessageSendSubscriber(this,"compose")}a11yNotify(e){const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_setConvoHistoryWithRecipients(e){Ember.setProperties(this.model,{conversation:null,loadingConvoHistory:!0})
return e&&e.length?this.msgDataManager.fetchLatestConversationByRecipients(e).then(e=>{if(e){const t=Ember.get(e,"id"),n=this.msgDataManager.initEventCollection({name:t,conversationId:t})
Ember.setProperties(this.model,{conversation:e,fetchedEvents:n.fetch(),eventCollection:n})}}).finally(()=>{Ember.set(this,"model.loadingConvoHistory",!1)}):Ember.RSVP.reject()}_setReplyType(){return Ember.get(this,"model.isInmailCompose")?ce.INMAIL:Ember.get(this,"model.groupId")?ce.M2GM:ce.M2M}_submitInvitationReply(e){const n=(0,t.default)({},e),s=Ember.get(this,"model.invitationId")
return this.msgDataManager.replyToInvitation(s,n).then(()=>{this.msgDataManager.getConversationCollection(ge.ALL).load()
return Ember.get(this,"model.conversation")})}_submitConversationReply(e){const n=(0,t.default)({},e),s=Ember.get(this,"model.conversation")
n.conversation=s
n.subscriberId="compose"
return this.msgDataManager.createAndSaveMessageEvent({msgData:n,conversation:s,participants:n.participants}).then(()=>s)}_submitNewConversationReply(e){return this.msgDataManager.createAndSaveConversation(e).then(t=>{if(e.name){this.tracking.fireInteractionEvent(me,"KEYBOARD_SUBMIT")
Ember.set(this,"model.conversationName","")}return t})}_onMessageSendSuccess(e){const t=Ember.get(this,"model.conversation.secondLatestEvent")
m.default.fireClientFunnelEvent(this.tracking,{secondLatestEvent:t,conversationBackendUrn:Ember.get(this,"model.conversation.backendUrn"),currentUserEntityUrn:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),eventBackendUrn:Ember.get(this,"model.conversation.latestEvent.backendUrn"),isFirstMessage:!t,trackingId:Ember.get(this,"funnelTrackingData.id")})
this.funnelTrackingData=m.default.createFunnelTrackingData()
this.a11yNotifyBound("i18n_a11y_send_successful")
return e}_onMessageSendFail(e){const t=Ember.get(this,"model.conversation.secondLatestEvent")
m.default.fireClientFunnelEvent(this.tracking,{secondLatestEvent:t,conversationBackendUrn:Ember.get(this,"model.conversation.backendUrn"),currentUserEntityUrn:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),isFirstMessage:!t,trackingId:Ember.get(this,"funnelTrackingData.id")})
this.a11yNotifyBound("i18n_a11y_send_failure")
let n=(0,g.default)(e)
if(!n){n=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_conversation_send_error")()}this.persistentToastManager.error({message:n})
throw e}handleMessageSendSuccess(e){const t=Ember.get(e,"conversation")
this._onMessageSendSuccess(t)}handleMessageSendFail(e){this._onMessageSendFail(e)}_submitMessage(e){if(Ember.get(this,"model.recipients.length")){const n=(0,t.default)((0,t.default)({},e),{},{senderID:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),recipientIDs:Ember.get(this,"model.recipients").mapBy("entityUrn"),messageReplyType:this._setReplyType(),name:Ember.get(this,"model.conversationName"),withNonConnection:Ember.get(this,"model.isInmailCompose"),contextEntityUrn:this.contextEntityUrn,contextByRecipients:Ember.get(this,"model.contextByRecipients")})
n.participants=n.recipientIDs
let s
Ember.get(this,"model.groupId")&&(n.adapterOptions={groupUrn:`urn:li:fs_miniGroup:${Ember.get(this,"model.groupId")}`})
n.trackingId=Ember.get(this,"funnelTrackingData.id")
s=Ember.get(this,"model.invitationId")?this._submitInvitationReply(n):Ember.get(this,"model.conversation.id")?this._submitConversationReply(n):this._submitNewConversationReply(n)
const a=!Ember.get(this,"model.conversation.id")
Ember.set(this,"a11yNotifyBound",Ember.run.bind(this,this.a11yNotify))
return s.then(e=>this.isDestroying||!a&&this.enableMessageSendAutoRetry?e:this._onMessageSendSuccess(e)).catch(e=>{this.isDestroying||!a&&this.enableMessageSendAutoRetry||this._onMessageSendFail(e)})}return Ember.RSVP.reject("Invalid payload to send a message")}beforeUpload(e){let t,{attachment:n,isPasteEvent:s}=e
t=n.isImage?s?pe:de:ue
this.tracking.fireInteractionEvent(t)}loadMore(){return Ember.get(this,"model.conversation")?Ember.get(this,"model.eventCollection").loadMore().then(e=>e).catch(e=>{(0,p.errorLogger)(this.jet,"The API call to load more events failed in the messaging thread.compose controller.",e,["msg-custom-err-log"])
throw e}):Ember.RSVP.reject()}recipientsChanged(e,t){Ember.setProperties(this.model,{recipients:e,contextByRecipients:t})
this._setConvoHistoryWithRecipients(e)}groupNameChanged(){this.tracking.fireInteractionEvent("group_chat_name")}openConversation(e){this.transitionToRoute("thread",e)}submitMessage(e){return this._submitMessage(e).then(e=>{(0,d.mutateDOM)(()=>{this.isDestroying||this.send("composeCompleted",e)})
return e})}createDraftGroupConversation(e){let{recipients:t,msgGroupName:n}=e
n||this.msgDataManager.fetchLatestConversationByRecipients(t).then(e=>{if(!this.isDestroying&&e&&!Ember.get(e,"name")){const t=Ember.get(e,"id"),n=this.msgDataManager.initEventCollection({name:t,conversationId:t})
Ember.setProperties(this.model,{conversation:e,fetchedEvents:n.fetch(),eventCollection:n})}})
const s={isManyToManyConvo:!0,participantNames:t.map(u.getName),recipients:t,participants:t.map(e=>({miniProfile:e})),name:n,totalParticipantsCount:t&&t.length}
Ember.setProperties(this.model,{recipients:t,draftConversation:s,conversationName:n,showDraftGroupConversation:!0,showGroupEditScreen:!1})}openEditGroupScreen(){Ember.setProperties(this.model,{isDraftThreadActionsDropdownOpen:!1,showDraftGroupConversation:!1,showGroupEditScreen:!0})}saveEnterToSend(e){const t=(0,o.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn")),n=Ember.get(this,"model.settings"),{ls:s,lix:a,identityStore:i}=this
return(0,r.saveEnterToSendSetting)(i,a,s,t,n,e)}retryTransition(){this.send("retryRouteTransition")}toggleExpandComposeField(){Ember.set(this,"composeIsFullyExpanded",!this.composeIsFullyExpanded)}setComposeContext(e,t){this.msgDataManager.fetchComposeContext({recipients:[e],composeOptionType:"MESSAGE_REQUEST",context:t}).then(e=>{if(!this.isDestroying){const t=e?Ember.get(e,"contextText"):void 0
Ember.set(this,"contextText",t)}})}composeToNonConnection(e,t){let{composeOption:n,targetURL:s,upsellContextUrn:a}=t
"UPSELL"!==Ember.get(n,"composeOptionType")?Ember.get(n,"composeNavigationContext")?this.router.transitionTo(s):this.windowService.open(jSecure.sanitizeUrl(s),"_blank"):this.transitionToRoute("compose",{queryParams:{composeOptionType:"PREMIUM_INMAIL",recipients:`List(${a})`,upsell:!0}})}showMessageEditForm(e,t){Ember.setProperties(this,{messageToEdit:e,messageEventToEdit:t,shouldShowMessageEditForm:!0})}},W=(0,a.default)(Q.prototype,"authenticatedUser",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,a.default)(Q.prototype,"store",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,a.default)(Q.prototype,"persistentToastManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,a.default)(Q.prototype,"tracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,a.default)(Q.prototype,"a11yNotification",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,a.default)(Q.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,a.default)(Q.prototype,"msgDataManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,a.default)(Q.prototype,"identityStore",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,a.default)(Q.prototype,"ls",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,a.default)(Q.prototype,"router",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,a.default)(Q.prototype,"windowService",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,a.default)(Q.prototype,"lix",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,a.default)(Q.prototype,"showGroupNameInput",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,a.default)(Q.prototype,"showMessageList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(Q.prototype,"showOneToOneProfileCard",[P],Object.getOwnPropertyDescriptor(Q.prototype,"showOneToOneProfileCard"),Q.prototype),le=(0,a.default)(Q.prototype,"isMessageRequestCompose",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(Q.prototype,"handleMessageSendSuccess",[I],Object.getOwnPropertyDescriptor(Q.prototype,"handleMessageSendSuccess"),Q.prototype),(0,a.default)(Q.prototype,"handleMessageSendFail",[x],Object.getOwnPropertyDescriptor(Q.prototype,"handleMessageSendFail"),Q.prototype),(0,a.default)(Q.prototype,"beforeUpload",[D],Object.getOwnPropertyDescriptor(Q.prototype,"beforeUpload"),Q.prototype),(0,a.default)(Q.prototype,"loadMore",[A],Object.getOwnPropertyDescriptor(Q.prototype,"loadMore"),Q.prototype),(0,a.default)(Q.prototype,"recipientsChanged",[N],Object.getOwnPropertyDescriptor(Q.prototype,"recipientsChanged"),Q.prototype),(0,a.default)(Q.prototype,"groupNameChanged",[j],Object.getOwnPropertyDescriptor(Q.prototype,"groupNameChanged"),Q.prototype),(0,a.default)(Q.prototype,"openConversation",[L],Object.getOwnPropertyDescriptor(Q.prototype,"openConversation"),Q.prototype),(0,a.default)(Q.prototype,"submitMessage",[F],Object.getOwnPropertyDescriptor(Q.prototype,"submitMessage"),Q.prototype),(0,a.default)(Q.prototype,"createDraftGroupConversation",[q],Object.getOwnPropertyDescriptor(Q.prototype,"createDraftGroupConversation"),Q.prototype),(0,a.default)(Q.prototype,"openEditGroupScreen",[U],Object.getOwnPropertyDescriptor(Q.prototype,"openEditGroupScreen"),Q.prototype),(0,a.default)(Q.prototype,"saveEnterToSend",[B],Object.getOwnPropertyDescriptor(Q.prototype,"saveEnterToSend"),Q.prototype),(0,a.default)(Q.prototype,"retryTransition",[z],Object.getOwnPropertyDescriptor(Q.prototype,"retryTransition"),Q.prototype),(0,a.default)(Q.prototype,"toggleExpandComposeField",[G],Object.getOwnPropertyDescriptor(Q.prototype,"toggleExpandComposeField"),Q.prototype),(0,a.default)(Q.prototype,"setComposeContext",[H],Object.getOwnPropertyDescriptor(Q.prototype,"setComposeContext"),Q.prototype),(0,a.default)(Q.prototype,"composeToNonConnection",[K],Object.getOwnPropertyDescriptor(Q.prototype,"composeToNonConnection"),Q.prototype),(0,a.default)(Q.prototype,"showMessageEditForm",[V],Object.getOwnPropertyDescriptor(Q.prototype,"showMessageEditForm"),Q.prototype),Q)
e.default=fe})
define("messaging/controllers/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/constants","msg-data/utils/persist","global-utils/utils/api-compat","@ember-decorators/object","msg-shared/utils/custom-tracking","msg-shared/utils/funnel-tracking","global-utils/utils/logger","msg-ui/utils/conversation-properties","msg-ui/utils/share-contact-info-helper","msg-ui/utils/mentions-helper","gdpr-notice/utils/notice-constants","global-utils/utils/is-browser","msg-shared/utils/user-visible-exception-helper","msg-data/utils/msg-reactions-helper"],function(e,t,n,s,a,i,r,o,l,c,m,p,d,u,g,h,f,b,y,v,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var E,M,w,k,C,T,S,R,P,O,I,x,D,A,N,j,L,F,q,U,B,z,G,H,K,V,Q,W,Y,$,Z,J,X,ee,te,ne,se,ae,ie,re,oe,le,ce,me,pe,de,ue,ge,he,fe,be,ye,ve,_e,Ee,Me,we,ke,Ce,Te,Se,Re,Pe,Oe,Ie,xe,De,Ae,Ne,je,Le,Fe,qe,Ue,Be,ze,Ge,He,Ke,Ve,Qe,We,Ye,$e,Ze
const{MESSAGE_TYPE:Je,INMAIL_ACTION:Xe,SMART_ACTIONS:et,ACTION_TYPES:tt,CONTROL_NAMES:nt,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:st}=o.default
let at=(E=Ember.inject.service("lix"),M=Ember.inject.service("jet"),w=Ember.inject.service("store"),k=Ember.inject.service("tracking"),C=Ember.inject.service("authentication@authenticated-user"),T=Ember.inject.service("global-services@a11y-notification"),S=Ember.inject.service("i18n"),R=Ember.inject.service("invitation-platform@invitation-platform"),P=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),O=Ember.inject.service("msg-data@data-manager"),I=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),x=Ember.computed.alias("trk"),D=Ember.computed("msgDataManager.messageReactionsHelper.reactionNotification").readOnly(),A=Ember._action,N=Ember.computed("model.conversation.viewerCurrentParticipant","model.conversation.latestEvent.isInMail","model.conversation.latestEvent.quickReplyRecommendations","model.conversation.isPendingMessageRequest","model.conversation.isDeclinedMessageRequest","composeIsFullyExpanded").readOnly(),j=Ember.computed("model.conversation.latestEvent.isInMail","model.conversation.latestEvent.isRecruiterInMail","model.conversation.latestEvent.isPremiumInMail","model.conversation.latestEvent.isSalesInMail","model.conversation.latestEvent.isInMailReply","model.conversation.latestEvent.inMailDeclineExplained","selectedInMailReplySmartAction").readOnly(),L=Ember.computed("model.conversation.latestEvent.isRecruiterInMail").readOnly(),F=Ember.computed.map("model.conversation.latestEvent.quickReplyRecommendations",(function(e){return{text:Ember.get(e,"content.text"),reply:e}})).readOnly(),q=Ember.computed("model.conversation.pendingInvitation"),U=Ember.computed.or("model.conversation.latestEvent","initialEventsRequestState.isLoaded").readOnly(),B=Ember.computed.readOnly("eventsWithCustomLssFooter.lastObject.eventContent.customContent.salesFooter"),z=Ember.computed("model.conversation","model.conversation.latestEvent","model.conversation.eventCollection").readOnly(),G=Ember.computed.readOnly("model.conversation.participants.firstObject"),H=Ember.computed.readOnly("model.conversation.latestEvent.eventContent.customContent.requestContactInfo"),K=Ember.computed.readOnly("model.conversation.muted"),V=Ember.computed("model.conversation.latestEvent.isInMail","model.conversation.latestEvent.from.isLoggedInUser","model.conversation.withNonConnection").readOnly(),Q=Ember.computed("model.conversation.latestEvent","model.conversation.withNonConnection").readOnly(),W=Ember.computed("model.conversation.isPendingMessageRequest","model.conversation.participants").readOnly(),Y=Ember.computed("model.conversation.isDeclinedMessageRequest","model.conversation.participants").readOnly(),$=(0,m.on)("messageSendSuccess"),Z=(0,m.on)("messageSendFail"),J=Ember._action,X=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,se=Ember._action,ae=Ember._action,ie=Ember._action,re=Ember._action,oe=Ember._action,le=Ember._action,ce=Ember._action,me=Ember._action,pe=Ember._action,de=Ember._action,ue=Ember._action,ge=Ember._action,he=Ember._action,fe=Ember._action,be=Ember._action,ye=Ember.inject.service("global-services@identity-store"),ve=Ember.inject.service("global-services@local-storage"),_e=Ember.computed("model.conversation.viewerCurrentParticipant","selectedInMailReplySmartAction").readOnly(),Ee=Ember._action,Me=Ember._action,we=Ember._action,ke=Ember._action,Ce=Ember._action,Te=Ember._action,Se=Ember._action,Re=Ember._action,Pe=Ember._action,Oe=(Ze=new WeakMap,class extends Ember.Controller{constructor(){super(...arguments);(0,t.default)(this,"lix",Ie,this);(0,t.default)(this,"jet",xe,this);(0,t.default)(this,"store",De,this);(0,t.default)(this,"tracking",Ae,this);(0,t.default)(this,"authenticatedUser",Ne,this);(0,t.default)(this,"a11yNotification",je,this);(0,t.default)(this,"i18n",Le,this);(0,t.default)(this,"invitationPlatform",Fe,this);(0,t.default)(this,"persistentToastManager",qe,this);(0,t.default)(this,"msgDataManager",Ue,this);(0,t.default)(this,"msgOverlayService",Be,this);(0,n.default)(this,"blockDialogOpen",!1);(0,n.default)(this,"shareInfoModalIsOpen",!1);(0,n.default)(this,"declineInmailReasonModalIsOpen",!1);(0,n.default)(this,"showRenameConversationForm",!1);(0,n.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531");(0,n.default)(this,"queryParams",["trk"]);(0,t.default)(this,"inmailReplyDeepLink",ze,this);(0,n.default)(this,"composeIsFullyExpanded",!1)
Ze.set(this,{writable:!0,value:void 0});(0,t.default)(this,"quickRepliesList",Ge,this);(0,t.default)(this,"renderThread",He,this);(0,t.default)(this,"customLssFooter",Ke,this);(0,t.default)(this,"participant",Ve,this);(0,t.default)(this,"inMailRequestContactInfo",Qe,this);(0,t.default)(this,"showConversationMuteBanner",We,this);(0,t.default)(this,"identityStore",Ye,this);(0,t.default)(this,"ls",$e,this);(0,n.default)(this,"dragAndDropTrackingKeys",st.PILLAR)}get headerReactionNotification(){const{reactionNotification:e}=this.msgDataManager.messageReactionsHelper
if(e&&(0,_.shouldDisplayReactionNotificationInHeader)(e.messageEvent,Ember.get(this,"model.conversation.id"),(0,a.default)(this,Ze)))return e}init(){super.init.apply(this,arguments)
Ember.setProperties(this,{gdprNoticeType:[b.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL],enableGroupChatIdentity:this.lix.getTreatmentIsEnabled("voyager.web.messaging-group-chat-identity"),enableNewQuickReplies:this.lix.getTreatmentIsEnabled("voyager.web.messaging-new-quick-replies"),enableOlympusKeys:this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn"),enableScrollToLatestMessageIndicator:this.lix.getTreatmentIsEnabled("voyager.web.messaging-scroll-to-latest-message"),enableDismissQRWhenScrolling:this.lix.getTreatmentIsEnabled("voyager.web.messaging-dismiss-quick-replies-scrolling"),enableMessageSendAutoRetry:this.lix.getTreatmentIsEnabled("voyager.web.messaging-auto-retry-send"),funnelTrackingData:d.default.createFunnelTrackingData()})
this.msgDataManager.setMessageSendSubscriber(this,"thread")}didMessageListInsert(e){(0,s.default)(this,Ze,e)}handleInMailReplyDeepLink(){this.inmailReplyDeepLink&&Ember.get(this,"model.conversation.latestEvent.isInMail")&&!Ember.get(this,"model.conversation.isDeclined")&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3")&&(this.inmailReplyDeepLink.endsWith("sent_accepted")?this.openInMailReplyPanel(this.quickRepliesList.findBy("reply.replyType","INMAIL_ACCEPT")):this.inmailReplyDeepLink.endsWith("sent_rejected")&&this.openInMailReplyPanel(this.quickRepliesList.findBy("reply.replyType","INMAIL_DECLINE")))}_focusForm(){if(y.default){const e=document.querySelector(".msg-thread .msg-form__contenteditable")
e&&e.focus()}}a11yNotify(e){const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}get showQuickReplies(){return!this.composeIsFullyExpanded&&Ember.get(this,"model.conversation.viewerCurrentParticipant")&&(!Ember.get(this,"model.conversation.latestEvent.isInMail")||!this.enableDismissQRWhenScrolling)&&!Ember.get(this,"model.conversation.isPendingMessageRequest")&&!Ember.get(this,"model.conversation.isDeclinedMessageRequest")&&Ember.get(this,"model.conversation.latestEvent.quickReplyRecommendations.length")}get showInMailQuickReplies(){return Ember.get(this,"model.conversation.latestEvent.isInMail")&&(!Ember.get(this,"model.conversation.latestEvent.isRecruiterInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3"))&&(!Ember.get(this,"model.conversation.latestEvent.isPremiumInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-premium"))&&(!Ember.get(this,"model.conversation.latestEvent.isSalesInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-lss"))&&(!Ember.get(this,"model.conversation.latestEvent.isInMailReply")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-decline")&&!Ember.get(this,"model.conversation.latestEvent.inMailDeclineExplained"))&&!this.selectedInMailReplySmartAction}get showThorV2(){return Ember.get(this,"model.conversation.latestEvent.isRecruiterInMail")&&!this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3")}get hasPendingInvitation(){return Ember.get(this,"model.conversation.pendingInvitation")}get eventsWithCustomLssFooter(){return Ember.get(this,"model.conversation.eventCollection").filterBy("eventContent.customContent.salesFooter.mainText.text")}get blockedByNoResponse(){return Ember.get(this,"model.conversation.latestEvent.isInMail")&&Ember.get(this,"model.conversation.latestEvent.from.isLoggedInUser")&&Ember.get(this,"model.conversation.withNonConnection")}get blockedByDecline(){return Ember.get(this,"model.conversation.latestEvent.isInMailDecline")&&!Ember.get(this,"model.conversation.latestEvent.from.isLoggedInUser")&&Ember.get(this,"model.conversation.withNonConnection")}get isGroupMessageRequest(){return Ember.get(this,"model.conversation.isPendingMessageRequest")&&Ember.get(this,"model.conversation.participants").length>1}get showDeclinedMessageRequestAccept(){return Ember.get(this,"model.conversation.isDeclinedMessageRequest")&&1===Ember.get(this,"model.conversation.participants").length}_onMessageSendSuccess(e){d.default.fireClientFunnelEvent(this.tracking,{conversationBackendUrn:Ember.get(e,"conversation.backendUrn"),currentUserEntityUrn:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),eventBackendUrn:Ember.get(e,"conversation.latestEvent.backendUrn"),isFirstMessage:!1,secondLatestEvent:Ember.get(e,"conversation.secondLatestEvent"),trackingId:Ember.get(this,"funnelTrackingData.id")})
this.funnelTrackingData=d.default.createFunnelTrackingData()
this.a11yNotify("i18n_a11y_send_successful")
return e}_onMessageSendFail(e){const t=(0,v.default)(e)
t?this.persistentToastManager.error({message:t}):this.a11yNotify("i18n_a11y_send_failure")
throw e}handleMessageSendSuccess(e){this._onMessageSendSuccess(e)}handleMessageSendFail(e){this._onMessageSendFail(e)}_saveMessageToStore(e){e.receivedMessage=this.newestMessage
e.senderID=Ember.get(this,"authenticatedUser.miniProfile.entityUrn")
e.messageReplyType=(0,g.getReplyMessageType)(e.conversation)
p.default.fireDetailActionEvent({actionType:tt.SEND_MESSAGE,controlName:nt.CONVERSATION.SEND,conversation:e.conversation,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
const t=Ember.get(e.conversation,"latestParticipants").mapBy("miniProfile.entityUrn"),n=e
n.trackingId=Ember.get(this,"funnelTrackingData.id")
n.subscriberId="thread"
return this.msgDataManager.createAndSaveMessageEvent({participants:t,conversation:n.conversation,msgData:n}).then(e=>this.enableMessageSendAutoRetry?e:this._onMessageSendSuccess(e)).catch(t=>{if(!this.enableMessageSendAutoRetry){d.default.fireClientFunnelEvent(this.tracking,{conversationBackendUrn:Ember.get(e,"conversation.backendUrn"),currentUserEntityUrn:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),isFirstMessage:!1,secondLatestEvent:Ember.get(e,"conversation.secondLatestEvent"),trackingId:Ember.get(this,"funnelTrackingData.id")})
this._onMessageSendFail(t)}})}_sendReply(e){this._focusForm()
return this._saveMessageToStore(e).catch(()=>{})}_fetchContactInfo(){const e=Ember.get(this,"authenticatedUser.memberId"),{store:t}=this
return t.findRecord("com.linkedin.voyager.deco.identity.normalizedprofile.shared.WebApplicantProfile",e,{adapterOptions:{url:`/voyager/api/identity/normalizedProfiles/${e}`}}).then(e=>{Ember.setProperties(this,{profileContactInfo:e,shareInfoModalIsOpen:!0})})}_clickReplyToInMail(e,t){const n=Ember.get(this,"model.conversation")
Ember.set(this,"isInMailClickReplyPending",!0)
return this.msgDataManager.clickReplyToInMail(n,e,t).then(()=>{this.a11yNotify("i18n_a11y_send_successful")
this.msgDataManager.getEventCollection(Ember.get(n,"id")).load()}).catch(e=>{const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_conversation_send_error")()
this.persistentToastManager.error({message:t})
throw e}).finally(()=>{Ember.set(this,"isInMailClickReplyPending",!1)})}_handleMentionToInvite(e){const t=e.getMentionedMembers(),n=Ember.get(this,"model.conversation")
if(!t||!n)return
const s=(0,f.default)(t,n)
Ember.isEmpty(s)||Ember.set(this,"membersToInvite",s)}toggleExpandComposeField(){Ember.set(this,"composeIsFullyExpanded",!this.composeIsFullyExpanded)}beforeUpload(e){let{attachment:t,isPasteEvent:n}=e
const{FILE_UPLOAD:s,IMAGE_PASTE:a,IMAGE_UPLOAD:i}=nt.CONVERSATION
let r
r=t.isImage?n?a:i:s
this.tracking.fireInteractionEvent(r)}resendMessage(e){Ember.set(e,"createdAt",Date.now())
this.msgDataManager.retrySaveMessage(e)}onShareContactInfoAccept(e,t,n){const s=(0,h.default)({i18nService:this.i18n,participant:this.participant,email:e,number:t,wechatId:n}),a=this.inMailReplyPayload
if(a){Ember.set(this,"selectedInMailReplySmartAction",void 0)
Ember.set(a,"inMailContactInfo",s)
return this._sendReply(a).finally(()=>{this.isDestroying||Ember.set(this,"inMailReplyPayload",void 0)})}return this._clickReplyToInMail(!0,s)}onShareContactInfoDecline(){const e=this.inMailReplyPayload
if(e){Ember.set(this,"selectedInMailReplySmartAction",void 0)
Ember.set(e,"inMailContactInfo",{})
this._sendReply(e).finally(()=>{this.isDestroying||Ember.set(this,"inMailReplyPayload",void 0)})}else this._clickReplyToInMail(!0,{})}replyToMessage(e){if("INMAIL_REPLY"===e.messageReplyType&&this.inMailRequestContactInfo&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3")){Ember.set(this,"inMailReplyPayload",e)
return this._fetchContactInfo().catch(t=>{this._sendReply(e).finally(()=>{this.isDestroying||Ember.set(this,"inMailReplyPayload",void 0)})
throw t})}return this._sendReply(e)}replyWithQuickReply(e,t){const n={message:e.get("content.text"),conversation:t,messageReplyType:Je.M2M,adapterOptions:{quickReplyExtension:{extensionContentType:"QUICK_REPLY",quickReply:Ember.get(e,"objectUrn")}}}
this._saveMessageToStore(n)
this._focusForm()}replyToSponsoredMessage(e){return this._saveMessageToStore(e)}oneClickReplyToRecruiterInMail(e){return e&&this.inMailRequestContactInfo?this._fetchContactInfo().catch(t=>{this._clickReplyToInMail(e)
throw t}):this._clickReplyToInMail(e)}onSendCustomInmailReply(e,t){const n=Ember.get(e,"replyType")===et.INMAIL_DECLINE,s=Ember.get(this,"model.conversation"),a=n?Xe.DECLINE:Xe.ACCEPT
if(t){const e={message:t,conversation:s,messageReplyType:Je.INMAIL_REPLY,inMailResponseAction:a}
if(!n&&this.inMailRequestContactInfo){Ember.set(this,"inMailReplyPayload",e)
return this._fetchContactInfo().catch(t=>{this._sendReply(e).finally(()=>{this.isDestroying||Ember.setProperties(this,{selectedInMailReplySmartAction:void 0,inMailReplyPayload:void 0})})
throw t})}return this._sendReply(e).finally(()=>{Ember.set(this,"selectedInMailReplySmartAction",void 0)})}return n?this._clickReplyToInMail(!1).then(()=>{this.isDestroying||Ember.set(this,"selectedInMailReplySmartAction",void 0)}):Ember.RSVP.resolve().then(()=>{const e=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_inmail_empty_body_error")()
this.persistentToastManager.error({errorMessage:e})})}oneClickReplyToMessageRequest(e){const t=Ember.get(this,"model.conversation")
Ember.set(this,"isMessageRequestClickReplyPending",!0)
return this.msgDataManager.clickReplyToMessageRequest(t,e,this.isGroupMessageRequest).then(()=>{e||this.send("redirectOnActiveConversationAction",Ember.get(t,"id"))}).catch(e=>{const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_conversation_send_error")()
this.persistentToastManager.error({message:t})
throw e}).finally(()=>{Ember.set(this,"isMessageRequestClickReplyPending",!1)})}loadMore(){return Ember.get(this,"model.collection").fetchAndLoadMore().catch(e=>{this.isDestroying||(0,u.errorLogger)(this.jet,"The API call to load more events failed in the messaging thread.index controller.",e,["msg-custom-err-log"])
throw e})}firePageViewTracking(e){this.tracking.firePageViewEvent(e)}presenceCustomTracking(e){const t=this.tracking
p.default.firePresenceDecorationImpression(t,Ember.get(this,"model.conversation"),e)}toggleConversationMute(e){const t=this.msgDataManager.toggleConversationMute(e),n=Ember.get(e,"muted")?tt.MUTE:tt.UNMUTE
p.default.fireDetailActionEvent({actionType:n,conversation:e,controlName:nt.CONVERSATION_ACTIONS.MUTE,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
return t}toggleShowRenameConversationForm(){Ember.set(this,"showRenameConversationForm",!0)}hideRenameConversationForm(){Ember.set(this,"showRenameConversationForm",!1)}redirectToActiveConversation(e){this.send("redirectOnActiveConversationAction",e)}markConversationAsRead(e){this.runTask(()=>{this.isDestroying||Ember.get(e,"read")||this.msgDataManager.markConversationAsRead(e)})}onBeforeFormSubmit(e){Ember.get(this,"model.conversation.isManyToManyConvo")&&Ember.get(this,"model.conversation.hasAddParticipantFeature")&&this._handleMentionToInvite(e)}get showMessageForm(){return(0,g.enableUserReplies)(Ember.get(this,"model.conversation"))&&!this.selectedInMailReplySmartAction}saveEnterToSend(e){const{ls:t,lix:n,identityStore:s}=this,a=(0,c.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn")),i=Ember.get(this,"model.settings")
return(0,l.saveEnterToSendSetting)(s,n,t,a,i,e)}retryTransition(){this.send("retryRouteTransition")}openInMailReplyPanel(e){Ember.set(this,"selectedInMailReplySmartAction",e)}showInmailDeclineReasonModal(){Ember.set(this,"declineInmailReasonModalIsOpen",!0)}openGIFPopover(e){Ember.setProperties(this,{isGifSearchPopoverOpen:!0,prefilledGIFSearchTerm:e})}closeGIFPopover(){Ember.setProperties(this,{isGifSearchPopoverOpen:!1,prefilledGIFSearchTerm:""})}focusTextarea(){this.element.querySelector(".msg-form__contenteditable").focus()}createGroupChat(e){this.msgOverlayService.triggerNewConversation({messageRecipients:[e],showGroupEditScreen:!0,isJumbo:!0})}showMessageEditForm(e,t){Ember.setProperties(this,{messageToEdit:e,messageEventToEdit:t,shouldShowMessageEditForm:!0})}}),Ie=(0,i.default)(Oe.prototype,"lix",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,i.default)(Oe.prototype,"jet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,i.default)(Oe.prototype,"store",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,i.default)(Oe.prototype,"tracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,i.default)(Oe.prototype,"authenticatedUser",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,i.default)(Oe.prototype,"a11yNotification",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,i.default)(Oe.prototype,"i18n",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,i.default)(Oe.prototype,"invitationPlatform",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,i.default)(Oe.prototype,"persistentToastManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,i.default)(Oe.prototype,"msgDataManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,i.default)(Oe.prototype,"msgOverlayService",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,i.default)(Oe.prototype,"inmailReplyDeepLink",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(Oe.prototype,"headerReactionNotification",[D],Object.getOwnPropertyDescriptor(Oe.prototype,"headerReactionNotification"),Oe.prototype),(0,i.default)(Oe.prototype,"didMessageListInsert",[A],Object.getOwnPropertyDescriptor(Oe.prototype,"didMessageListInsert"),Oe.prototype),(0,i.default)(Oe.prototype,"showQuickReplies",[N],Object.getOwnPropertyDescriptor(Oe.prototype,"showQuickReplies"),Oe.prototype),(0,i.default)(Oe.prototype,"showInMailQuickReplies",[j],Object.getOwnPropertyDescriptor(Oe.prototype,"showInMailQuickReplies"),Oe.prototype),(0,i.default)(Oe.prototype,"showThorV2",[L],Object.getOwnPropertyDescriptor(Oe.prototype,"showThorV2"),Oe.prototype),Ge=(0,i.default)(Oe.prototype,"quickRepliesList",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(Oe.prototype,"hasPendingInvitation",[q],Object.getOwnPropertyDescriptor(Oe.prototype,"hasPendingInvitation"),Oe.prototype),He=(0,i.default)(Oe.prototype,"renderThread",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,i.default)(Oe.prototype,"customLssFooter",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(Oe.prototype,"eventsWithCustomLssFooter",[z],Object.getOwnPropertyDescriptor(Oe.prototype,"eventsWithCustomLssFooter"),Oe.prototype),Ve=(0,i.default)(Oe.prototype,"participant",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=(0,i.default)(Oe.prototype,"inMailRequestContactInfo",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=(0,i.default)(Oe.prototype,"showConversationMuteBanner",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(Oe.prototype,"blockedByNoResponse",[V],Object.getOwnPropertyDescriptor(Oe.prototype,"blockedByNoResponse"),Oe.prototype),(0,i.default)(Oe.prototype,"blockedByDecline",[Q],Object.getOwnPropertyDescriptor(Oe.prototype,"blockedByDecline"),Oe.prototype),(0,i.default)(Oe.prototype,"isGroupMessageRequest",[W],Object.getOwnPropertyDescriptor(Oe.prototype,"isGroupMessageRequest"),Oe.prototype),(0,i.default)(Oe.prototype,"showDeclinedMessageRequestAccept",[Y],Object.getOwnPropertyDescriptor(Oe.prototype,"showDeclinedMessageRequestAccept"),Oe.prototype),(0,i.default)(Oe.prototype,"handleMessageSendSuccess",[$],Object.getOwnPropertyDescriptor(Oe.prototype,"handleMessageSendSuccess"),Oe.prototype),(0,i.default)(Oe.prototype,"handleMessageSendFail",[Z],Object.getOwnPropertyDescriptor(Oe.prototype,"handleMessageSendFail"),Oe.prototype),(0,i.default)(Oe.prototype,"toggleExpandComposeField",[J],Object.getOwnPropertyDescriptor(Oe.prototype,"toggleExpandComposeField"),Oe.prototype),(0,i.default)(Oe.prototype,"beforeUpload",[X],Object.getOwnPropertyDescriptor(Oe.prototype,"beforeUpload"),Oe.prototype),(0,i.default)(Oe.prototype,"resendMessage",[ee],Object.getOwnPropertyDescriptor(Oe.prototype,"resendMessage"),Oe.prototype),(0,i.default)(Oe.prototype,"onShareContactInfoAccept",[te],Object.getOwnPropertyDescriptor(Oe.prototype,"onShareContactInfoAccept"),Oe.prototype),(0,i.default)(Oe.prototype,"onShareContactInfoDecline",[ne],Object.getOwnPropertyDescriptor(Oe.prototype,"onShareContactInfoDecline"),Oe.prototype),(0,i.default)(Oe.prototype,"replyToMessage",[se],Object.getOwnPropertyDescriptor(Oe.prototype,"replyToMessage"),Oe.prototype),(0,i.default)(Oe.prototype,"replyWithQuickReply",[ae],Object.getOwnPropertyDescriptor(Oe.prototype,"replyWithQuickReply"),Oe.prototype),(0,i.default)(Oe.prototype,"replyToSponsoredMessage",[ie],Object.getOwnPropertyDescriptor(Oe.prototype,"replyToSponsoredMessage"),Oe.prototype),(0,i.default)(Oe.prototype,"oneClickReplyToRecruiterInMail",[re],Object.getOwnPropertyDescriptor(Oe.prototype,"oneClickReplyToRecruiterInMail"),Oe.prototype),(0,i.default)(Oe.prototype,"onSendCustomInmailReply",[oe],Object.getOwnPropertyDescriptor(Oe.prototype,"onSendCustomInmailReply"),Oe.prototype),(0,i.default)(Oe.prototype,"oneClickReplyToMessageRequest",[le],Object.getOwnPropertyDescriptor(Oe.prototype,"oneClickReplyToMessageRequest"),Oe.prototype),(0,i.default)(Oe.prototype,"loadMore",[ce],Object.getOwnPropertyDescriptor(Oe.prototype,"loadMore"),Oe.prototype),(0,i.default)(Oe.prototype,"firePageViewTracking",[me],Object.getOwnPropertyDescriptor(Oe.prototype,"firePageViewTracking"),Oe.prototype),(0,i.default)(Oe.prototype,"presenceCustomTracking",[pe],Object.getOwnPropertyDescriptor(Oe.prototype,"presenceCustomTracking"),Oe.prototype),(0,i.default)(Oe.prototype,"toggleConversationMute",[de],Object.getOwnPropertyDescriptor(Oe.prototype,"toggleConversationMute"),Oe.prototype),(0,i.default)(Oe.prototype,"toggleShowRenameConversationForm",[ue],Object.getOwnPropertyDescriptor(Oe.prototype,"toggleShowRenameConversationForm"),Oe.prototype),(0,i.default)(Oe.prototype,"hideRenameConversationForm",[ge],Object.getOwnPropertyDescriptor(Oe.prototype,"hideRenameConversationForm"),Oe.prototype),(0,i.default)(Oe.prototype,"redirectToActiveConversation",[he],Object.getOwnPropertyDescriptor(Oe.prototype,"redirectToActiveConversation"),Oe.prototype),(0,i.default)(Oe.prototype,"markConversationAsRead",[fe],Object.getOwnPropertyDescriptor(Oe.prototype,"markConversationAsRead"),Oe.prototype),(0,i.default)(Oe.prototype,"onBeforeFormSubmit",[be],Object.getOwnPropertyDescriptor(Oe.prototype,"onBeforeFormSubmit"),Oe.prototype),Ye=(0,i.default)(Oe.prototype,"identityStore",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,i.default)(Oe.prototype,"ls",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(Oe.prototype,"showMessageForm",[_e],Object.getOwnPropertyDescriptor(Oe.prototype,"showMessageForm"),Oe.prototype),(0,i.default)(Oe.prototype,"saveEnterToSend",[Ee],Object.getOwnPropertyDescriptor(Oe.prototype,"saveEnterToSend"),Oe.prototype),(0,i.default)(Oe.prototype,"retryTransition",[Me],Object.getOwnPropertyDescriptor(Oe.prototype,"retryTransition"),Oe.prototype),(0,i.default)(Oe.prototype,"openInMailReplyPanel",[we],Object.getOwnPropertyDescriptor(Oe.prototype,"openInMailReplyPanel"),Oe.prototype),(0,i.default)(Oe.prototype,"showInmailDeclineReasonModal",[ke],Object.getOwnPropertyDescriptor(Oe.prototype,"showInmailDeclineReasonModal"),Oe.prototype),(0,i.default)(Oe.prototype,"openGIFPopover",[Ce],Object.getOwnPropertyDescriptor(Oe.prototype,"openGIFPopover"),Oe.prototype),(0,i.default)(Oe.prototype,"closeGIFPopover",[Te],Object.getOwnPropertyDescriptor(Oe.prototype,"closeGIFPopover"),Oe.prototype),(0,i.default)(Oe.prototype,"focusTextarea",[Se],Object.getOwnPropertyDescriptor(Oe.prototype,"focusTextarea"),Oe.prototype),(0,i.default)(Oe.prototype,"createGroupChat",[Re],Object.getOwnPropertyDescriptor(Oe.prototype,"createGroupChat"),Oe.prototype),(0,i.default)(Oe.prototype,"showMessageEditForm",[Pe],Object.getOwnPropertyDescriptor(Oe.prototype,"showMessageEditForm"),Oe.prototype),Oe)
e.default=at})
define.alias("ember-m3/adapters/interop-debug-adapter","messaging/data-adapter")
define("messaging/engine",["exports","@babel/runtime/helpers/esm/defineProperty","ember-strict-resolver","ember-engines/engine","ember-load-initializers"],function(e,t,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i="messaging"
class r extends s.default{constructor(){super(...arguments);(0,t.default)(this,"modulePrefix",i);(0,t.default)(this,"Resolver",n.default)}}(0,a.default)(r,i)
var o=r
e.default=o})
define.alias("@css-blocks/ember-cli/helpers/-css-blocks-classnames","messaging/helpers/-css-blocks-classnames")
define.alias("@css-blocks/ember-cli/helpers/-css-blocks-concat","messaging/helpers/-css-blocks-concat")
define.alias("ember-truth-helpers/helpers/and","messaging/helpers/and")
define.alias("ember-truth-helpers/helpers/equal","messaging/helpers/eq")
define.alias("ember-semaphore/helpers/format-title","messaging/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","messaging/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","messaging/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","messaging/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","messaging/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","messaging/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","messaging/helpers/li-icon")
define.alias("ember-truth-helpers/helpers/lt","messaging/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","messaging/helpers/lte")
define.alias("ember-media-player/helpers/media-action-autoplay","messaging/helpers/media-action-autoplay")
define.alias("ember-media-player/helpers/media-action-seekto","messaging/helpers/media-action-seekto")
define.alias("ember-truth-helpers/helpers/not-equal","messaging/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","messaging/helpers/not")
define.alias("ember-truth-helpers/helpers/or","messaging/helpers/or")
define.alias("ember-route-action-helper/helpers/route-action","messaging/helpers/route-action")
define.alias("ember-app-scheduler/helpers/route-idle","messaging/helpers/route-idle")
define.alias("ember-simple-set-helper/helpers/set","messaging/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","messaging/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","messaging/helpers/xor")
define("messaging/initializers/artdeco",["exports","artdeco-eyeglass"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=a
e.default=void 0
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function s(e,t){const s=e[t]
e[t]=function(){n.forEach(e=>e&&"function"==typeof e.teardown&&e.teardown())
s&&"function"==typeof s&&s.call(e)}}function a(e){if("undefined"!=typeof document){n.forEach(e=>e.install())
"function"==typeof e.willDestroy?s(e,"willDestroy"):"function"==typeof e.destroy&&s(e,"destroy")}}var i={name:"artdeco",initialize:a}
e.default=i})
define("messaging/initializers/ember-faker",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=t
e.default=void 0
function t(){}var n={name:"ember-faker",initialize:t}
e.default=n})
define("messaging/initializers/icons",["exports","artdeco-icons-web/src/icons","messaging/config/environment"],function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function s(e){throw e}var a={name:"icons",initialize:function(){const{environment:e,APP:a}=n.default
let i,r
a&&({artdecoCustomSpriteUrl:i,artdecoCustomSpriteName:r}=a)
const o="test"!==e
t.default.load(o,i,r).catch(s)}}
e.default=a})
define.alias("ember-m3/initializers/m3-store","messaging/initializers/m3-store")
define("messaging/initializers/override-safestring",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=a
e.default=void 0
const t="ember-glimmer",n="ember-htmlbars/utils/string",s="@ember/-internals/glimmer"
function a(){let e,a=Ember.__loader.require.has
if(a(s))e=Ember.__loader.require(s).SafeString
else if(a(t))e=Ember.__loader.require(t).SafeString
else{if(!a(n))throw new Error("Cannot locate SafeString class for overriding")
e=Ember.__loader.require(n).SafeString}e.prototype.toHTML=function(){return jSecure.sanitizeHTML(this.toString())}
e.prototype.toString=function(){return`${this.string}`}}var i={name:"override-safestring",initialize:a}
e.default=i})
define.alias("@ember/render-modifiers/modifiers/did-insert","messaging/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","messaging/modifiers/did-update")
define.alias("ember-sortable/modifiers/sortable-group","messaging/modifiers/sortable-group")
define.alias("ember-sortable/modifiers/sortable-handle","messaging/modifiers/sortable-handle")
define.alias("ember-sortable/modifiers/sortable-item","messaging/modifiers/sortable-item")
define.alias("@ember/render-modifiers/modifiers/will-destroy","messaging/modifiers/will-destroy")
define("messaging/routes/application",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","msg-shared/utils/constants","messaging/utils/leave-messaging-modal","data-layer/m3-configs/jobs/jobs-home-prefetch-config","data-layer/utils/global/prefetch-data","messaging/utils/get-route-pagekey","ember-lifeline","messaging/templates/application"],function(e,t,n,s,a,i,r,o,l,c,m,p,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,g,h,f,b,y,v,_,E,M,w,k,C,T,S,R,P,O,I,x,D,A,N,j,L,F
const{SEARCH_FILTER:q,MESSAGE_COLLECTION_TYPES:U,MESSAGE_REQUEST_TARGET_URLS:{URL_PENDING:B},MAILBOX_FOLDER:z,MESSAGE_REQUEST_FILTER:G,MESSAGE_REQUEST_STATUS:{MESSAGE_REQUEST_PENDING:H,MESSAGE_REQUEST_DECLINED:K}}=r.default
let V=(u=Ember.inject.service("global-services@a11y-notification"),g=Ember.inject.service("authentication@authenticated-user"),h=Ember.inject.service("global-services@badge"),f=Ember.inject.service("i18n"),b=Ember.inject.service("lix"),y=Ember.inject.service("msg-data@data-manager"),v=Ember.inject.service("store"),_=Ember.inject.service("msg-badge-manager@msg-badge-manager"),E=Ember.inject.service("client-sensor-web@client-sensor"),M=Ember.inject.service("launchpad-ext@launchpad"),w=Ember.inject.service("tracking"),k=Ember._action,C=Ember._action,T=Ember._action,S=class extends Ember.Route{pageKey(){return(0,m.default)(this.paramsFor(this.routeName),"flagship3_messaging")}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",R,this);(0,t.default)(this,"authenticatedUser",P,this);(0,t.default)(this,"badgeService",O,this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"lix",x,this);(0,t.default)(this,"msgDataManager",D,this);(0,t.default)(this,"store",A,this);(0,t.default)(this,"msgBadgeManager",N,this);(0,t.default)(this,"clientSensor",j,this);(0,t.default)(this,"launchpad",L,this);(0,t.default)(this,"tracking",F,this);(0,n.default)(this,"queryParams",{filter:{refreshModel:!0,replace:!0},searchTerm:{refreshModel:!0,replace:!0}})
Ember.setProperties(this,{badging:this.badgeService,unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger")})
i.default&&!this.unreadBadgerEnabled?Ember.setProperties(this,{visibilityChangeListener:this._handleVisibilityChange,focusListener:this._clearUnseenBadge}):this.unreadBadgerEnabled&&this.msgDataManager.clearUnseenBadge()
this.checkForDraft=(e=>(0,o.nativeLeaveAlert)(e,this.i18n))
this.titleToken=this.i18n.getMessageRenderer(d.default,"i18n_messaging_conversations")()}afterModel(e){super.afterModel.apply(this,arguments)
if(i.default){this._setMailBoxes(e)
this._processAfterModel(e.collection)
this.conversationBundleLoadPromise&&this.conversationBundleLoadPromise.then(()=>{this.isDestroying||Ember.set(e,"pendingMessageRequestBundle",this.msgDataManager.getConversationBundleByTargetUrl(B))})}this.unreadBadgerEnabled?this.msgDataManager.clearUnseenBadge():this._markAllItemsAsSeen()
return e}setupController(e){super.setupController.apply(this,arguments)
e.checkForUnconfirmedEmail()
e.conversationQuery=this._getConversationQuery()
Ember.set(e,"isSearchLoading",!1)}_loadConversationBundles(){return this.msgDataManager.fetchConversationBundles()}resetController(e,t,n){n&&/^thread/.test(n.to.name)||Ember.set(e,"searchTerm",void 0)
Ember.set(e,"isFiltersDropdownOpen",!1)}deserializeQueryParam(e,t){const n=e&&e.toUpperCase()
switch(t){case"filter":return q[n]||z[n]||n===G.PENDING||n===G.DECLINED?n:void 0
default:return super.deserializeQueryParam(e,t)}}serializeQueryParam(e,t){switch(t){case"filter":return e&&e.toLowerCase()||void 0
default:return super.serializeQueryParam(e,t)||void 0}}_markAllItemsAsSeen(){if(i.default){var e
null===(e=this._setMessagingBadgeCountOnLaunchpad)||void 0===e||e.call(this)
this.badging.markAllItemsAsSeen("messaging",Date.now(),!0)}}_processAfterModel(e){if(!this.isDestroying){const t=e.data.length
t&&e.data.setEach("seen",!0)
if(this._isSearching()){const e="i18n_a11y_search_results",n={count:t},s=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(s([n]))}}}_isSearching(){const{searchTerm:e,filter:t}=this.paramsFor(this.routeName)
return Ember.isPresent(e)||Ember.isPresent(t)}_getConversationQuery(){let e
if(this._isSearching()){const{searchTerm:t,filter:n}=this.paramsFor(this.routeName)
e={q:"search"}
t&&(e.keywords=t)
n&&q[n]&&(e.filters=[n])
n&&z[n]&&(e.folders=[n])
n&&n===G.PENDING&&(e={q:"systemLabel",type:H,excludedSystemLabelTypes:["SPAM","ARCHIVE"]})
n&&n===G.DECLINED&&(e={q:"systemLabel",type:K,excludedSystemLabelTypes:["SPAM","ARCHIVE"]})}return e}loading(){return!this._isSearching()}beforeModel(e){super.beforeModel.apply(this,arguments);(0,c.default)(e,(0,l.jobsPrefetchConfig)(this.lix),{store:this.store})}model(){const e={mailboxes:i.default?[]:this._getMailBoxes()},{collection:t,query:n}=this._getCollectionAndQuery()
e.collection=t
t.hasInitialFetch||(e.loadedCollection=t.load(n).then(e=>{if(this.unreadBadgerEnabled){const{filter:n}=this.paramsFor(this.routeName)
if("unread"===(null==n?void 0:n.toLowerCase())){e.length<20&&e.length!==this.msgBadgeManager.unreadConversationsCount&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"unread-conversations-count-mismatch-badge-number"})
t.length>0&&0===this.msgBadgeManager.unreadConversationsCount&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"unread-conversations-when-badge-is-zero"})}}}))
const s=this.msgDataManager.getConversationBundleByTargetUrl(B)
s?e.pendingMessageRequestBundle=s:this.conversationBundleLoadPromise=this._loadConversationBundles()
return Ember.RSVP.hash(e)}redirect(e){if(i.default){const t=Ember.get(e.collection.data,"firstObject.id")
this.conversationQuery&&t&&this.transitionTo("thread",t,{queryParams:this.paramsFor(this.routeName)})}}_setMessagingBadgeCountOnLaunchpad(){const e=this.badging.getBadgeCount("messaging")
this.launchpad.setMessagingBadgeCount(e)}_getCollectionAndQuery(){let e
const t=Object.create(null)
e=this.msgDataManager.initConversationCollection({name:U.ALL})
this.conversationQuery=this._getConversationQuery()
if(this.conversationQuery){Ember.assign(t,this.conversationQuery)
e=t.type===H||t.type===K?this.msgDataManager.initConversationCollection({name:t.type,initialQuery:t}):this.msgDataManager.initConversationCollection({name:`${t.keywords}-${Date.now()}`,initialQuery:t})}return{collection:e,query:t}}activate(){super.activate.apply(this,arguments)
this.badging.pausePolling("messaging")
if(i.default){Ember.set(this,"beforeunloadListener",this.checkForDraft.bind(this));(0,p.addEventListener)(this,window,"beforeunload",this.beforeunloadListener)
if(!this.unreadBadgerEnabled){(0,p.addEventListener)(this,document,"visibilitychange",this.visibilityChangeListener);(0,p.addEventListener)(this,document,"focus",this.focusListener)}}this.msgDataManager.subscribe(this)
this.on("realtimeConversationDelete",e=>this._redirectOnActiveConversationAction(Ember.get(e,"id")))
this.on("conversationBundleUpdate",()=>{Ember.set(this.modelFor(this.routeName),"pendingMessageRequestBundle",this.msgDataManager.getConversationBundleByTargetUrl(B))})}destroy(){super.destroy.apply(this,arguments);(0,p.runDisposables)()}deactivate(){super.deactivate.apply(this,arguments)
this.badging.resumePolling("messaging")
this.msgDataManager.unsubscribe(this)
if(i.default&&!this.unreadBadgerEnabled){(0,p.removeEventListener)(this,document,"visibilitychange",this.visibilityChangeListener);(0,p.removeEventListener)(this,document,"focus",this.focusListener)}}_handleVisibilityChange(){i.default&&document.getElementById("messaging")&&this._clearUnseenBadge()}_clearUnseenBadge(){this.badging.markAllItemsAsSeen("messaging",Date.now(),!0)}_setMailBoxes(e){i.default&&!this.isDestroying&&this._getMailBoxes().then(t=>{Ember.set(e,"mailboxes",t)})}_getMailBoxes(){const e=Ember.get(this,"authenticatedUser.paidProducts"),t=!e.includes("job-postings")
return e.includes("sales-nav")||e.includes("recruiter")||e.includes("hiring-manager")||!t?this.msgDataManager.fetchMailBoxUnreadCounts().then(e=>Ember.get(e,"mailboxes")).catch(()=>[]):Ember.RSVP.resolve([])}_redirectOnActiveConversationAction(e){const t=this.modelFor("thread"),n=t?Ember.get(t.conversation,"id"):void 0
if(e===n){let e
const{collection:t}=this.modelFor("application")
if(0===t.data.length)e=this.transitionTo("compose")
else{const s=Ember.get(t.data,"firstObject.id"),a=s===n?t.data[1].id:s
e=this.transitionTo("thread",a)}return e}return Ember.RSVP.resolve()}redirectOnActiveConversationAction(e){return this._redirectOnActiveConversationAction(e)}redirectToThread(e){return e?this.transitionTo("thread",e):this.transitionTo("compose")}},R=(0,s.default)(S.prototype,"a11yNotification",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(S.prototype,"authenticatedUser",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(S.prototype,"badgeService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(S.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(S.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(S.prototype,"msgDataManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(S.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(S.prototype,"msgBadgeManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,s.default)(S.prototype,"clientSensor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(S.prototype,"launchpad",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(S.prototype,"tracking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(S.prototype,"loading",[k],Object.getOwnPropertyDescriptor(S.prototype,"loading"),S.prototype),(0,s.default)(S.prototype,"redirectOnActiveConversationAction",[C],Object.getOwnPropertyDescriptor(S.prototype,"redirectOnActiveConversationAction"),S.prototype),(0,s.default)(S.prototype,"redirectToThread",[T],Object.getOwnPropertyDescriptor(S.prototype,"redirectToThread"),S.prototype),S)
e.default=V})
define("messaging/routes/compose-deeplink",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class extends Ember.Route{beforeModel(){const e=this.paramsFor("compose-deeplink")
this.replaceWith("compose",{queryParams:e})}}})
define("messaging/routes/compose-group",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","messaging/routes/compose","msg-shared/utils/constants"],function(e,t,n,s,a,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,c
const{PAGEVIEW_KEYS:m}=r.default
let p=(o=Ember.inject.service("tracking"),l=class extends i.default{constructor(){super(...arguments);(0,n.default)(this,"templateName","compose");(0,t.default)(this,"tracking",c,this)}model(){return super.model.apply(this,arguments).then(e=>{e.showGroupEditScreen=!0
e.isDraftThreadActionsDropdownOpen=!1
return e})}onExecuteAsLeaf(){this.tracking.firePageViewEvent(m.COMPOSE_GROUP_CONVO_PAGEKEY)}},c=(0,s.default)(l.prototype,"tracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=p})
define("messaging/routes/compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-cli-pemberly-tracking","messaging/utils/leave-messaging-modal","msg-shared/utils/should-in-mail","urn-utils"],function(e,t,n,s,a,i,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,m,p,d,u,g,h,f,b,y,v,_,E,M,w,k,C,T,S,R
let P=(c=Ember.inject.service("asset-loader"),m=Ember.inject.service("global-services@identity-store"),p=Ember.inject.service("store"),d=Ember.inject.service("tracking"),u=Ember.inject.service("lix"),g=Ember.inject.service("msg-data@data-manager"),h=Ember.inject.service("msg-ui@messaging-user-settings"),f=Ember.computed("afterPath"),b=Ember._action,y=Ember._action,v=Ember._action,_=Ember._action,E=class extends Ember.Route{onExecuteAsLeaf(){this.tracking.firePageViewEvent("flagship3_messaging_compose")}constructor(){super(...arguments);(0,t.default)(this,"assetLoader",M,this);(0,t.default)(this,"identityStore",w,this);(0,t.default)(this,"store",k,this);(0,t.default)(this,"tracking",C,this);(0,t.default)(this,"lix",T,this);(0,t.default)(this,"msgDataManager",S,this);(0,t.default)(this,"userSettings",R,this);(0,n.default)(this,"discardWillTransitionForRUM",!0);(0,n.default)(this,"afterPath",void 0);(0,n.default)(this,"recipient",void 0);(0,n.default)(this,"queryParams",{composeOptionType:{refreshModel:!0}});(0,i.setupNonAnchorRoute)(this)}pageKey(){return""}get useRecipientInUrl(){return-1!==this.afterPath.indexOf("profile")}model(e,t){const{body:n,composeOptionType:s}=t.to?t.to.queryParams:{},a={recipients:[],draftConversation:null,conversationName:null,settings:this.userSettings.getMsgSettings()}
n&&(a.prepopulatedMessage=n)
s?this._composeViewModel(t,a):this._legacyComposeModel(t,a)
return Ember.RSVP.hash(a)}_composeViewModel(e,t){const{recipients:n,context:s,contextType:a,composeOptionType:i,contextEntityUrn:r,controlUrn:o,referringModuleKey:c,upsell:m}=e.to?e.to.queryParams:{}
t.composeOptionType=i
t.controlUrn=o
t.referringModuleKey=c
const{identityStore:p}=this
let d=n.substring(5,n.length-1).split(",")
Ember.isArray(d)||(d=[d])
t.recipients=Ember.RSVP.all(d.map(e=>p.findRecord("com.linkedin.voyager.identity.shared.MiniProfile",(0,l.extractEntityInfoFromUrn)(e).id)))
if("PREMIUM_INMAIL"===i){t.isInmailCompose=!0
t.showPremiumUpsell=m}else if("MESSAGE_REQUEST"===i){t.isInmailCompose=!1
t.messageContext={contextType:a,contextEntityUrn:r,groupName:"groupName is wrong"}}t.composeViewContext=this.msgDataManager.fetchComposeContext({recipients:n,composeOptionType:i,context:s||r})}_legacyComposeModel(e,t){const{after:n,contextType:s,contextEntityUrn:a,groupId:i,groupName:r,invitation:l,recipient:c,connId:m,type:p,afterParam:d}=e.to?e.to.queryParams:{},u=c||m
Ember.setProperties(this,{afterPath:n,recipient:c,afterParam:d})
i&&(t.groupId=i)
l&&(t.invitationId=l)
const{identityStore:g}=this
if(u){const e=g.peekRecord("com.linkedin.voyager.identity.shared.MiniProfile",u)
if(e)t.recipients=[e]
else{const e=g.findRecord("com.linkedin.voyager.identity.shared.MiniProfile",u)
t.recipients=e.then(e=>[e])}if(p)t.isInmailCompose="inmail"===p
else if(m&&!c||l||i)t.isInMailCompose=!1
else if(s&&a&&r){t.isInmailCompose=!1
t.isMessageRequestCompose=!0
t.messageContext={contextType:s,contextEntityUrn:a,groupName:r}}else t.isInmailCompose=g.findRecord("com.linkedin.voyager.identity.profile.ProfileNetworkInfo",c).then(e=>{const t=Ember.get(e,"distance.value")
return t&&(0,o.default)(t)})}}afterModel(e){super.afterModel.apply(this,arguments)
this.userSettings.syncUserSettings().then(t=>{Ember.set(e,"settings.pressEnterToSend",Ember.get(t,"pressEnterToSend"))})
const t=e.composeOptionType?e.referringModuleKey:"legacy"
this.tracking.fireTrackingPayload("MessengerComposeImpressionEvent",{sourceType:"PILLAR",recipientUrns:e.recipients.map(e=>Ember.get(e,"entityUrn")),controlUrn:e.controlUrn,referringModuleKey:t})}setupController(e,t){super.setupController(e,t)
e.send("recipientsChanged",t.recipients)}resetController(e,t){if(t){e.queryParams.forEach(t=>{e[t]&&Ember.set(e,t,void 0)})
Ember.setProperties(e,{conversation:null,fetchedEvents:null,draftConversation:{},showDraftGroupConversation:!1})}}didTransition(){this.assetLoader.loadBundle("msg-conversation-ui")
this.assetLoader.loadBundle("msg-rich-media")}composeCompleted(e){const{afterPath:t,recipient:n,afterParam:s}=this
t?n&&this.useRecipientInUrl?this.transitionToExternal(t,n,{queryParams:{messageSent:!0}}):s?this.transitionToExternal(t,s,{queryParams:{messageSent:!0}}):this.transitionToExternal(t,{queryParams:{messageSent:!0}}):e&&this.replaceWith("thread",Ember.get(e,"id"))}willTransition(e){if((0,r.composeHasValue)()){if(this.forceTransition){this.forceTransition=null
return!0}e.abort()
Ember.set(this,"attemptedTransition",e)
Ember.set(this.controller,"isDiscardModalOpen",!0)}return!1}retryRouteTransition(){const{attemptedTransition:e}=this
if(e&&"function"==typeof e.retry){Ember.setProperties(this,{attemptedTransition:null,forceTransition:!0})
e.retry()}}},M=(0,s.default)(E.prototype,"assetLoader",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(E.prototype,"identityStore",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(E.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(E.prototype,"tracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(E.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(E.prototype,"msgDataManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(E.prototype,"userSettings",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(E.prototype,"useRecipientInUrl",[f],Object.getOwnPropertyDescriptor(E.prototype,"useRecipientInUrl"),E.prototype),(0,s.default)(E.prototype,"didTransition",[b],Object.getOwnPropertyDescriptor(E.prototype,"didTransition"),E.prototype),(0,s.default)(E.prototype,"composeCompleted",[y],Object.getOwnPropertyDescriptor(E.prototype,"composeCompleted"),E.prototype),(0,s.default)(E.prototype,"willTransition",[v],Object.getOwnPropertyDescriptor(E.prototype,"willTransition"),E.prototype),(0,s.default)(E.prototype,"retryRouteTransition",[_],Object.getOwnPropertyDescriptor(E.prototype,"retryRouteTransition"),E.prototype),E)
e.default=P})
define("messaging/routes/index",["exports","@babel/runtime/helpers/esm/toConsumableArray","@babel/runtime/helpers/esm/defineProperty","messaging/utils/conversations-redirection"],function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class extends Ember.Route{constructor(){super(...arguments);(0,n.default)(this,"pageKey","messaging_index")}redirect(e,n){const[a,...i]=(0,s.default)(this.modelFor("application").collection,n)
let r;(r=i?()=>this.transitionTo.apply(this,[a].concat((0,t.default)(i))):()=>this.transitionTo(a))()}}})
define("messaging/routes/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","msg-shared/utils/constants","messaging/utils/leave-messaging-modal","msg-shared/utils/logger","ember-cli-pemberly-tracking","msg-shared/utils/document-is-hidden","msg-data/utils/conversation-actions","ember-app-scheduler","global-helpers/helpers/load"],function(e,t,n,s,a,i,r,o,l,c,m,p,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,b,y,v,_,E,M,w,k,C,T,S,R,P,O,I,x,D,A,N,j,L,F,q
const{THREAD_DETAIL_JUMP_TARGET:U,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:B}}=r.default
let z=(g=Ember.inject.service("asset-loader"),h=Ember.inject.service("global-services@badge"),f=Ember.inject.service("store"),b=Ember.inject.service("lix"),y=Ember.inject.service("tracking"),v=Ember.inject.service("jet"),_=Ember.inject.service("msg-data@data-manager"),E=Ember.inject.service("msg-ui@messaging-user-settings"),M=Ember.inject.service("authentication@authenticated-user"),w=Ember.inject.service("launchpad-ext@launchpad"),k=Ember.inject.service("rum"),C=Ember._action,T=Ember._action,S=Ember._action,R=class extends Ember.Route{onExecuteAsLeaf(){this.tracking.firePageViewEvent(B)}pageKey(){return""}constructor(){super(...arguments);(0,t.default)(this,"assetLoader",P,this);(0,t.default)(this,"badgeService",O,this);(0,t.default)(this,"store",I,this);(0,t.default)(this,"lix",x,this);(0,t.default)(this,"tracking",D,this);(0,t.default)(this,"jet",A,this);(0,t.default)(this,"msgDataManager",N,this);(0,t.default)(this,"userSettings",j,this);(0,t.default)(this,"authenticatedUser",L,this);(0,t.default)(this,"launchpad",F,this);(0,t.default)(this,"rumService",q,this);(0,n.default)(this,"spinMailAfterText",void 0);(0,n.default)(this,"discardWillTransitionForRUM",!0)
Ember.setProperties(this,{badging:this.badgeService,unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger"),useSeenReceiptManager:this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-seen-receipt-manager")});(0,c.setupNonAnchorRoute)(this)}activate(){this.msgDataManager.subscribe(this)
this.on("realtimeMessageReceived",(function(e){const t=i.default&&document.hasFocus()&&!(0,m.default)(),n=Ember.get(e,"id"),{conversation:s}=this.modelFor(this.routeName)
if(n===Ember.get(s,"id")&&!Ember.get(s,"read")&&t){this.msgDataManager.markConversationAsRead(s)
this.unreadBadgerEnabled||this.badging.markItemAsSeen("messaging",Ember.get(e,"entityUrn"),"READ")}return!0}))}deactivate(){this.msgDataManager.unsubscribe(this)}afterModel(e){super.afterModel.apply(this,arguments)
if(i.default&&!this.isDestroying){const{conversation:t}=e
if(!Ember.get(t,"seen")){Ember.set(t,"seen",!0)
this.badging.markItemAsSeen("messaging",Ember.get(t,"entityUrn"))}this._processMessageFromAdvertiser(e)
this.userSettings.syncUserSettings().then(t=>{this.isDestroying||Ember.set(e,"settings.pressEnterToSend",Ember.get(t,"pressEnterToSend"))})
e.initialEventsRequest.then(e=>{this.isDestroying||p.default.markConversationAsReadOnOpen(this.store,t,this.msgDataManager)
return e})}return e}beforeModel(){const{conversationId:e}=this.paramsFor("thread");(0,l.checkValidConversationId)(this.jet,e)
Ember.set(this.controllerFor("application"),"activeConversationId",e)}model(){const{conversationId:e}=this.paramsFor("thread")
let t
const n=this.msgDataManager
if(i.default)t=n.fetchConversation(e).then(e=>{const t=Ember.get(e,"id"),s=n.initEventCollection({name:t,conversationId:t})
return{collection:s,conversation:e,initialEventsRequest:s.hasInitialFetch?Ember.RSVP.resolve():s.fetch()}}).catch(e=>{document.body.classList.add("boot-complete")
throw e})
else{const s=n.initEventCollection({name:e,conversationId:e})
t=Ember.RSVP.hash({collection:s,conversation:n.fetchConversation(e),initialEventsRequest:s.fetch()})}return t.then(t=>{this.msgDataManager.fetchParticipantReceipts(e).then(e=>{this.useSeenReceiptManager?this.msgDataManager.seenReceiptsManager.setSeenReceipts(Ember.get(t.conversation,"entityUrn"),e):Ember.set(t.conversation,"receipts",e)})
t.settings=this.userSettings.getMsgSettings()
return t})}setupController(e){super.setupController.apply(this,arguments)
this.rumService.setPageKey("flagship3_messaging")
Ember.setProperties(e,{composeIsFullyExpanded:!1,selectedInMailReplySmartAction:void 0,inMailResponseAction:void 0,membersToInvite:void 0})
const{initialEventsRequest:t}=this.modelFor(this.routeName)
Ember.set(e,"initialEventsRequestState",(0,u.load)(t))
e.handleInMailReplyDeepLink()}buildRouteInfoMetadata(){return{debug:{suggestedTeams:["messaging"]}}}_processMessageFromAdvertiser(e){this.runTask(()=>{let t
t=Ember.get(e.conversation,"isSponsoredConversation")?Ember.getWithDefault(e.conversation,"sponsoredConversationMetadata",!1):Ember.getWithDefault(e.conversation,"latestEvent.eventContent.customContent.subContent",!1)
this.controllerFor("application").send("loadCustomSpinMailAd",t)})}willTransition(e){this.launchpad.attachFilesWhenTransition(e.data)
if((0,o.composeHasValue)()){if(!/^(?!messaging\.)/.test(e.to?e.to.name:null))return!0
if(this.forceTransition){this.forceTransition=null
return!0}e.abort()
Ember.set(this,"attemptedTransition",e)
Ember.set(this.controller,"isDiscardModalOpen",!0)}return!1}retryRouteTransition(){const{attemptedTransition:e}=this
if(e&&"function"==typeof e.retry){Ember.setProperties(this,{attemptedTransition:null,forceTransition:!0})
e.retry()}}didTransition(){(0,d.whenRouteIdle)().then(()=>{this.assetLoader.loadBundle("msg-rich-media")
this.assetLoader.loadBundle("msg-conversation-ui")
this.assetLoader.loadBundle("msg-shared-modals")
this.assetLoader.loadBundle("msg-spinmail")
this.assetLoader.loadBundle("tenor-gif")
if(i.default){const e=document.querySelector(".msg-thread .msg-form__contenteditable"),t=document.querySelector(U)
e?e.focus():t&&t.focus()}})}},P=(0,s.default)(R.prototype,"assetLoader",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(R.prototype,"badgeService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(R.prototype,"store",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(R.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(R.prototype,"tracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(R.prototype,"jet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(R.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,s.default)(R.prototype,"userSettings",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(R.prototype,"authenticatedUser",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(R.prototype,"launchpad",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,s.default)(R.prototype,"rumService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(R.prototype,"willTransition",[C],Object.getOwnPropertyDescriptor(R.prototype,"willTransition"),R.prototype),(0,s.default)(R.prototype,"retryRouteTransition",[T],Object.getOwnPropertyDescriptor(R.prototype,"retryRouteTransition"),R.prototype),(0,s.default)(R.prototype,"didTransition",[S],Object.getOwnPropertyDescriptor(R.prototype,"didTransition"),R.prototype),R)
e.default=z})
define.alias("artdeco-hoverables/services/artdeco-hoverable","messaging/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","messaging/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast-time-ago","messaging/services/artdeco-toast-time-ago")
define.alias("artdeco-toast/services/artdeco-toast","messaging/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","messaging/services/client-sensor")
define.alias("ember-date-service/services/date","messaging/services/date")
define.alias("@linkedin/ember-pem/services/internal-event-utils","messaging/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","messaging/services/internal-pem-tracking")
define.alias("ember-m3/services/m3-schema-manager","messaging/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","messaging/services/media-player")
define.alias("@linkedin/ember-pem/services/pem-tracking","messaging/services/pem-tracking")
define.alias("ember-media-player/services/static-asset-loader","messaging/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","messaging/services/store")
define.alias("ember-singularity/services/unified-event-handler","messaging/services/unified-event-handler")
define("messaging/templates/application",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.HTMLBars.template({id:"UCxn4BX6",block:'{"symbols":["assetLoader","assetLoader","actions","props","conversation","index","dropdown"],"statements":[[0,"\\n"],[7,"div",true],[10,"id","messaging"],[8],[0,"\\n  "],[5,"ads@ad-banner",[],[["@slotSize","@zone","@pageZone"],["700x17","MESSAGING","PAGE_ZONE_HEADER"]]],[0,"\\n\\n  "],[7,"div",true],[11,"class",[29,["msg-messaging-container neptune-grid two-column display-flex\\n\\n      ",[23,0,["hasGhostContent"]]]]],[8],[0,"\\n    "],[7,"div",true],[10,"class","core-rail msg-messaging-container__core-rail relative display-flex"],[10,"role","main"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-conversations-container display-flex"],[8],[0,"\\n        "],[7,"div",true],[10,"class","msg-conversations-container__header relative"],[8],[0,"\\n          "],[7,"div",true],[10,"class","msg-conversations-container__title-row"],[8],[0,"\\n            "],[7,"h1",true],[10,"class","flex-grow-1 ph4 t-16 t-black t-bold"],[8],[0,"\\n              "],[1,[28,"t",["i18n_messaging_conversations","messaging/templates/application"],null],false],[0,"\\n            "],[9],[0,"\\n            "],[5,"link-to",[[12,"data-control-name","compose_message"],[12,"class",[28,"concat",["artdeco-button artdeco-button--circle artdeco-button--tertiary mr1",[28,"if",[[23,0,["isMercadoEnabled"]]," artdeco-button--muted"],null]],null]]],[["@route","@query","@title"],["compose",[28,"hash",null,[["composeOptionType","recipients"],[[27],[27]]]],[28,"t",["i18n_compose_new_message","messaging/templates/application"],null]]],{"statements":[[0,"\\n              "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","a11y-text"],["compose-icon",[28,"t",["i18n_compose_new_message","messaging/templates/application"],null]]]],false],[0,"\\n            "]],"parameters":[]}],[0,"\\n\\n            "],[5,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@class"],[[23,0,["isHeaderDropdownMenuOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isHeaderDropdownMenuOpen"],null],"bottom","right","mr2"]],{"statements":[[0,"\\n              "],[6,[23,7,["dropdown-trigger"]],[[12,"data-control-name","dropdown_menu"]],[["@aria-label","@classNames"],[[28,"t",["a11y_msg_dropdown_menu","messaging/templates/application"],null],[28,"concat",["artdeco-button artdeco-button--2 artdeco-button--circle artdeco-button--tertiary",[28,"if",[[23,0,["isMercadoEnabled"]]," artdeco-button--muted"],null]],null]]],{"statements":[[0,"\\n                "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","class","size","color"],["ellipsis-horizontal-icon","artdeco-button__icon","medium",true]]],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n              "],[7,"div",true],[10,"class","msg-conversations-container__dropdown-container"],[8],[0,"\\n                "],[6,[23,7,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n                  "],[7,"ul",true],[10,"class","white-space-nowrap"],[8],[0,"\\n                    "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[[],[]],{"statements":[[0,"\\n                      "],[5,"link-to",[[12,"data-control-name","compose_group"]],[["@route","@title"],["compose-group",[28,"t",["a11y_new_group_conversation","messaging/templates/application"],null]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["a11y_new_group_conversation","messaging/templates/application"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "]],"parameters":[]}],[0,"\\n\\n"],[4,"unless",[[23,0,["showMessageRequestList"]]],null,{"statements":[[0,"                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","enter_bulk_selection"]],[["@itemSelected"],[[28,"action",[[23,0,[]],"enterBulkActionsMode"],null]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_manage_conversations","messaging/templates/application"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showMessageRequestInboxInHeaderDropdown"]]],null,{"statements":[[0,"                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[28,"ember-cli-pemberly-tracking@tracked-action",["overflow_view_message_request_inbox",[28,"action",[[23,0,[]],"openPendingMessageRequestList"],null]],null]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_message_request_inbox","messaging/templates/application"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showPendingMessageRequestList"]]],null,{"statements":[[0,"                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[28,"ember-cli-pemberly-tracking@tracked-action",["view_declined_message_requests",[28,"action",[[23,0,[]],"openDeclinedMessageRequestConversationList"],null]],null]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_declined_message_requests","messaging/templates/application"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n                    "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[23,0,["openAwayMessageSettingsModal"]]]],{"statements":[[0,"\\n                    "],[1,[28,"if",[[23,0,["msgDataManager","awayMessageSettings","length"]],[28,"t",["i18n_update_away_message","messaging/templates/application"],null],[28,"t",["i18n_set_away_message","messaging/templates/application"],null]],null],false],[0,"\\n                    "]],"parameters":[]}],[0,"\\n                  "],[9],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[7]}],[0,"\\n          "],[9],[0,"\\n\\n"],[4,"if",[[23,0,["isBulkActionsMode"]]],null,{"statements":[[0,"            "],[5,"msg-ui@primitives/bulk-actions-panel",[],[["@selectedConversations","@willExecuteBulkAction","@didExecuteBulkAction","@onExitBulkActionsMode"],[[23,0,["selectedConversations"]],[28,"action",[[23,0,[]],"willExecuteBulkAction"],null],[28,"action",[[23,0,[]],"didExecuteBulkAction"],null],[28,"action",[[23,0,[]],"onExitBulkActionsMode"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n          "],[5,"messaging@search-form",[],[["@rumComponentId","@filter","@searchTerm","@inputSearchTerm","@isSearchLoading","@isFiltersDropdownOpen","@hasActiveSearch","@searchConversations","@clearActiveSearch","@clearFilters","@setFilter","@isBulkActionsMode","@showSearchInput"],["messaging/search-form",[23,0,["filter"]],[23,0,["searchTerm"]],[23,0,["inputSearchTerm"]],[23,0,["isSearchLoading"]],[23,0,["isFiltersDropdownOpen"]],[23,0,["hasActiveSearch"]],[28,"action",[[23,0,[]],"searchConversations"],null],[28,"action",[[23,0,[]],"clearActiveSearch"],null],[28,"action",[[23,0,[]],"clearFilters"],null],[28,"action",[[23,0,[]],"setFilter"],null],[23,0,["isBulkActionsMode"]],[23,0,["showSearchInput"]]]]],[0,"\\n\\n"],[4,"unless",[[23,0,["isBulkActionsMode"]]],null,{"statements":[[4,"if",[[23,0,["showKindnessReminder"]]],null,{"statements":[[0,"              "],[5,"msg-ui@inbox-onboarding-widget",[[12,"class","msg-conversations-container__kindness-reminder"]],[["@type","@legoConfig","@dismissButtonSize","@text","@primaryActionText","@onDismiss","@onPrimary","@onImpression"],["basic",[23,0,["kindnessReminderLegoConfig"]],2,[28,"t",["i18n_kindness_reminder_text","messaging/templates/application"],null],[28,"t",["i18n_kindness_reminder_learn_more","messaging/templates/application"],null],[28,"ember-cli-pemberly-tracking@tracked-action",["dismiss_kindness_banner",[28,"ember-simple-set-helper@set",[[23,0,[]],"enableKindnessReminder",false],null]],null],[23,0,["clickKindnessReminder"]],[23,0,["impressionKindnessReminder"]]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n          "],[5,"msg-ui@away-message-reminder-banner",[],[[],[]]],[0,"\\n\\n          "],[7,"a",true],[10,"href","#thread-detail-jump-target"],[10,"class","jump-link visually-hidden focusable"],[8],[0,"\\n            "],[7,"div",true],[10,"class","pv1 ph2 t-14 t-black t-normal"],[8],[0,"\\n              "],[1,[28,"t",["i18n_ally_convo_jump","messaging/templates/application"],null],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n\\n        "],[7,"h2",true],[10,"class","visually-hidden"],[8],[0,"\\n          "],[1,[28,"t",["i18n_a11y_conversation_list","messaging/templates/application"],null],false],[0,"\\n        "],[9],[0,"\\n        "],[7,"span",true],[10,"class","visually-hidden"],[8],[0,"\\n          "],[1,[28,"t",["i18n_a11y_infinite_scroll","messaging/templates/application"],null],false],[0,"\\n        "],[9],[0,"\\n\\n        "],[5,"messaging@conversations-container",[],[["@scrollBuffer","@scrollPageKey","@triggerOnInsert","@loadMore","@pageViewTracking"],[500,[23,0,["pageKeys","conversationList","scrollPageKey"]],false,[28,"action",[[23,0,[]],"loadMore"],null],[28,"action",[[23,0,[]],"firePageViewTracking","conversation-list"],null]]],{"statements":[[0,"\\n          "],[5,"messaging@premium-mailboxes",[],[["@mailboxes"],[[23,0,["model","mailboxes"]]]]],[0,"\\n\\n"],[4,"if",[[23,0,["showMessageRequestContent"]]],null,{"statements":[[4,"if",[[23,0,["showPendingMessageRequestList"]]],null,{"statements":[[0,"              "],[5,"msg-ui@message-request-list-header",[],[["@goBack"],[[28,"ember-cli-pemberly-tracking@tracked-action",["back_to_inbox_from_requests",[28,"action",[[23,0,[]],"clearFilters"],null]],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showDeclinedMessageRequestList"]]],null,{"statements":[[0,"              "],[5,"msg-ui@message-request-list-header",[],[["@isDeclinedList","@goBack"],[true,[28,"ember-cli-pemberly-tracking@tracked-action",["back_to_message_requests_from_declined_messages",[28,"action",[[23,0,[]],"openPendingMessageRequestList"],null]],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["enableUpdatedMRBanner"]]],null,{"statements":[[0,"              "],[5,"msg-ui@message-request-banner-v2",[[12,"class","msg-message-request-banner-container-v2__pillar"]],[["@messageRequestBundle","@openMessageRequestConversationList","@trackingKey"],[[23,0,["model","pendingMessageRequestBundle"]],[28,"action",[[23,0,[]],"openPendingMessageRequestList"],null],"bundle_view_message_request_inbox"]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["model","pendingMessageRequestBundle"]]],null,{"statements":[[0,"              "],[5,"msg-ui@message-request-banner",[],[["@class","@messageRequestBundle","@openMessageRequestConversationList"],["msg-message-request-banner-container__pillar",[23,0,["model","pendingMessageRequestBundle"]],[28,"ember-cli-pemberly-tracking@tracked-action",["bundle_view_message_request_inbox",[28,"action",[[23,0,[]],"openPendingMessageRequestList"],null]],null]]]],[0,"\\n            "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null],[0,"\\n"],[4,"each",[[23,0,["continuousConversations"]]],[["key"],["id"]],{"statements":[[0,"            "],[5,"occludable-area@occludable-area",[],[["@tagName","@class","@hintClassName","@rootMarginBottomBuffer","@occlusionEnabled"],["li","msg-conversation-listitem msg-conversations-container__convo-item msg-conversations-container__pillar","msg-conversation-card--occluded",75,[28,"global-helpers@gte",[[23,6,[]],1],null]]],{"statements":[[0,"\\n              "],[5,"messaging@conversation-card",[],[["@conversation","@convoIndex","@hasConvoUtilityButtons","@isBulkActionsMode","@isSearchMode","@searchActionEventTracking","@onClick","@searchImpressionTracking","@impressionTracking","@class","@toggleConversationArchiveState","@toggleConversationReadState"],[[23,5,[]],[23,6,[]],[28,"global-helpers@neq",[[23,0,["isBulkActionsMode"]],true],null],[23,0,["isBulkActionsMode"]],[23,0,["hasActiveSearch"]],[28,"action",[[23,0,[]],"fireSearchActionEventTracking",[23,5,[]]],null],[28,"action",[[23,0,[]],"onConversationCardClick",[23,5,[]]],null],[28,"action",[[23,0,[]],"fireSearchImpressionTracking"],null],[28,"action",[[23,0,[]],"fireImpressionTracking","conversation",[28,"hash",null,[["convoIndex"],[[23,6,[]]]]]],null],"msg-conversation-card msg-conversations-container__pillar",[28,"action",[[23,0,[]],"toggleConversationArchiveState"],null],[28,"action",[[23,0,[]],"toggleConversationReadState"],null]]]],[0,"\\n            "]],"parameters":[]}],[0,"\\n"]],"parameters":[5,6]},{"statements":[[0,"            "],[7,"li",true],[8],[0,"\\n              "],[5,"messaging@no-messages",[],[["@filter","@isSearching","@searchTerm"],[[23,0,["filter"]],[23,0,["isSearching"]],[23,0,["searchTerm"]]]]],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,4,["loadMoreError"]]],null,{"statements":[[0,"            "],[7,"li",true],[10,"class","mb6"],[8],[0,"\\n              "],[5,"artdeco-empty-state@artdeco-empty-state",[],[["@class","@headline","@illustration","@muted","@message"],["msg-conversations-container__load-error",[28,"t",["i18n_oops","messaging/templates/application"],null],"no-connection",true,[28,"t",["i18n_load_more_error","messaging/templates/application"],null]]]],[0,"\\n\\n              "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name","messaging.retry"]],[["@class","@type","@click"],["block mlA mrA","secondary",[28,"action",[[23,0,[]],[23,3,["retryLoadMore"]]],null]]],{"statements":[[0,"\\n                "],[1,[28,"t",["i18n_try_again","messaging/templates/application"],null],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"unless",[[23,0,["isLoading"]]],null,{"statements":[[4,"if",[[23,4,["canInfiniteScroll"]]],null,{"statements":[[0,"              "],[7,"li",true],[10,"class","p3"],[8],[0,"\\n                "],[5,"artdeco-button@artdeco-button",[],[["@class","@click","@color","@size","@type"],["block mlA mrA",[28,"action",[[23,0,[]],[23,3,["loadMore"]]],null],"muted",1,"tertiary"]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_load_more_conversations","messaging/templates/application"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n          "],[7,"li",true],[11,"class",[28,"unless",[[23,0,["isLoading"]],"hidden"],null]],[8],[0,"\\n            "],[5,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]]],[0,"\\n          "],[9],[0,"\\n        "]],"parameters":[3,4]}],[0,"\\n      "],[9],[0,"\\n\\n"],[0,"      "],[1,[22,"outlet"],false],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"aside",true],[10,"class","right-rail"],[10,"role","presentation"],[8],[0,"\\n"],[4,"if",[[23,0,["spinMailAdUnit","adUnit"]]],null,{"statements":[[4,"if",[[23,0,["spinMailAdUnit","adUnit","adUnit"]]],null,{"statements":[[4,"if",[[23,0,["spinMailAdUnit","action"]]],null,{"statements":[[0,"            "],[7,"a",false],[12,"href",[23,0,["spinMailAdUnit","action"]]],[12,"class","ad-banner"],[12,"target","_blank"],[12,"rel","noopener noreferrer"],[3,"action",[[23,0,[]],"spinMailAdClicked"],[["preventDefault"],[false]]],[8],[0,"\\n"],[0,"              "],[5,"ember-vector-images@custom-image",[],[["@image","@width","@height","@class"],[[23,0,["spinMailAdUnit","adUnit","adUnit"]],300,250,"img_ad msg-spinmail-ad"]]],[0,"\\n"],[0,"            "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[7,"div",true],[10,"class","ad-banner"],[8],[0,"\\n"],[0,"              "],[5,"ember-vector-images@custom-image",[],[["@image","@width","@height","@class"],[[23,0,["spinMailAdUnit","adUnit","adUnit"]],300,250,"img_ad msg-spinmail-ad"]]],[0,"\\n"],[0,"            "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"          "],[7,"div",true],[10,"class","ad-banner"],[8],[0,"\\n            "],[5,"image-view-model@image-view-model-base",[],[["@images","@imgWidth","@imgHeight","@isStackedLayout","@class"],[[23,0,["spinMailAdUnit","adUnit"]],300,250,false,"img_ad msg-spinmail-ad"]]],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"        "],[5,"ads@ad-banner",[],[["@slotSize","@zone","@pageZone"],["300x250","MESSAGING","PAGE_ZONE_BODY_RIGHT"]]],[0,"\\n"]],"parameters":[]}],[0,"      "],[5,"global-footer@global-footer-compact",[],[[],[]]],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["state","fulfilled"]]],null,{"statements":[[0,"    "],[5,"msg-shared-modals@gdpr-notice",[],[["@noticeTypes"],[[23,0,["gdprNoticeTypes"]]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]}],[0,"\\n"],[5,"email-confirmation@email-confirmation-modal",[],[["@pillar","@modalContext","@isOpen","@linkToUpdateEmail","@resendConfirmationEmail"],["MESSAGING",[23,0,["unconfirmedEmailModalContext"]],[23,0,["unconfirmedEmailModalIsOpen"]],true,[28,"action",[[23,0,[]],"resendConfirmationEmail"],null]]]],[0,"\\n\\n"],[4,"if",[[23,0,["awayMessageSettingsModalIsOpen"]]],null,{"statements":[[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"    "],[5,"msg-shared-modals@away-message-settings-modal",[],[["@closeModal"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"awayMessageSettingsModalIsOpen",false],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"messaging/templates/application.hbs"}})
e.default=t})
define("messaging/templates/compose",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.HTMLBars.template({id:"lKPuK1Pg",block:'{"symbols":["components","actions","props","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","scroller","assetLoader","dropdown"],"statements":[[7,"div",true],[11,"class",[29,["msg-thread msg-compose-container relative display-flex\\n  ",[28,"if",[[23,0,["composeIsFullyExpanded"]]," msg-thread--compose-field-expanded"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["model","isInmailCompose"]]],null,{"statements":[[0,"    "],[5,"title-bar@title-bar",[],[["@bemPrefix","@title"],["msg-title-bar",[28,"t",["i18n_new_messaging_conversations","messaging/templates/compose"],null]]]],[0,"\\n    "],[5,"messaging@inmail-compose-form",[],[["@classNames","@recipients","@conversation","@messagingSettings","@msgAdapterOptions","@prefilledMessage","@submitMessage","@beforeUpload","@toggleExpandComposeField","@composeIsFullyExpanded","@dragAndDropTrackingKeys","@footerText","@footerIcon","@showPremiumUpsell"],["msg-inmail-compose-form-v2 relative flex-1 white display-flex flex-column",[23,0,["model","recipients"]],[23,0,["model","conversation"]],[23,0,["model","settings"]],[23,0,["msgAdapterOptions"]],[23,0,["model","prepopulatedMessage"]],[28,"action",[[23,0,[]],"submitMessage"],null],[28,"action",[[23,0,[]],"beforeUpload"],null],[28,"action",[[23,0,[]],"toggleExpandComposeField"],null],[23,0,["composeIsFullyExpanded"]],[23,0,["dragAndDropTrackingKeys"]],[23,0,["model","composeViewContext","footerText"]],[23,0,["model","composeViewContext","footerIcon"]],[23,0,["model","showPremiumUpsell"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["model","showDraftGroupConversation"]]],null,{"statements":[[0,"      "],[5,"title-bar@title-bar",[],[["@bemPrefix","@icon"],["msg-title-bar","arrow-left-icon"]],{"statements":[[0,"\\n        "],[5,"messaging@entity-lockup",[],[["@title","@conversation","@class"],[[28,"if",[[23,0,["model","draftConversation","name"]],[23,0,["model","draftConversation","name"]],[28,"t",["i18n_conversation_header_familiar_names","messaging/templates/compose"],[["names"],[[23,0,["model","draftConversation","participantNames"]]]]]],null],[23,0,["model","draftConversation"]],"flex-grow-1"]]],[0,"\\n        "],[5,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@classNames"],[[23,0,["model","isDraftThreadActionsDropdownOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"model.isDraftThreadActionsDropdownOpen"],null],"bottom","right","msg-thread-actions__dropdown"]],{"statements":[[0,"\\n          "],[6,[23,13,["dropdown-trigger"]],[],[["@class"],[[28,"concat",["msg-thread-actions__control artdeco-button artdeco-button--1 artdeco-button--circle artdeco-button--tertiary ",[28,"if",[[23,0,["inverse"]],"artdeco-button--inverse","artdeco-button--muted"],null]],null]]],{"statements":[[0,"\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","class","size","color","a11y-text"],["ellipsis-horizontal-icon","artdeco-button__icon","small",true,[28,"t",[[23,0,["a11yText","openOptions"]],"messaging/templates/compose"],[["names"],[[28,"t",[[23,0,["a11yText","names","key"]],"messaging/templates/compose"],[["names"],[[23,0,["a11yText","names","param"]]]]]]]]]]],false],[0,"\\n          "]],"parameters":[]}],[0,"\\n          "],[7,"div",true],[10,"class","msg-thread-actions__dropdown-container"],[8],[0,"\\n            "],[6,[23,13,["dropdown-content"]],[],[["@arrowDir","@class"],["right","msg-thread-actions__dropdown-options"]],{"statements":[[0,"\\n              "],[7,"ul",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@class","@itemSelected"],["msg-thread-actions__dropdown-option",[28,"action",[[23,0,[]],"openEditGroupScreen"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_edit_group_conversation","messaging/templates/compose"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[]}],[0,"\\n          "],[9],[0,"\\n        "]],"parameters":[13]}],[0,"\\n      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[5,"title-bar@title-bar",[],[["@bemPrefix","@title"],["msg-title-bar",[28,"if",[[23,0,["model","showGroupEditScreen"]],[28,"t",["i18n_new_group_conversation","messaging/templates/compose"],null],[28,"t",["i18n_new_messaging_conversations","messaging/templates/compose"],null]],null]]]],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["model","showGroupEditScreen"]]],null,{"statements":[[0,"      "],[5,"msg-ui@msg-group-form/msg-group-form",[],[["@onNext","@prefilledRecipients","@prefilledMsgGroupName","@classNames","@nextButtonDataControlName","@onRecipientsChanged"],[[28,"action",[[23,0,[]],"createDraftGroupConversation"],null],[23,0,["model","draftConversation","recipients"]],[23,0,["model","draftConversation","name"]],"msg-group-form--pillar","compose_group_next",[28,"action",[[23,0,[]],"recipientsChanged"],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["model","showDraftGroupConversation"]]],null,{"statements":[[4,"unless",[[23,0,["model","conversation","id"]]],null,{"statements":[[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,12,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-conversation-ui@profile-card-group",[],[["@class","@conversation","@recipientProfiles","@recipientNames","@showDraftGroupConversation","@customRollupClickAction"],["ph3 pv4",[23,0,["model","draftConversation"]],[23,0,["model","draftConversation","recipients"]],[23,0,["model","draftConversation","participantNames"]],[23,0,["model","showDraftGroupConversation"]],[28,"action",[[23,0,[]],"openEditGroupScreen"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[12]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showGroupNameInput"]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-compose-container__add-group-name msg-compose-container__add-group-name--active pv1"],[8],[0,"\\n            "],[7,"label",true],[10,"class","a11y-text"],[8],[1,[28,"t",["i18n_add_conversation_name","messaging/templates/compose"],null],false],[9],[0,"\\n            "],[5,"input",[[12,"placeholder",[28,"t",["i18n_add_conversation_name","messaging/templates/compose"],null]]],[["@type","@name","@maxlength","@value","@classNames","@change"],["text","name-conversation","40",[23,0,["model","conversationName"]],"msg-compose-container__group-name",[28,"action",[[23,0,[]],"groupNameChanged"],null]]]],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"        "],[5,"msg-typeahead@connections-typeahead",[],[["@a11yText","@prefilledRecipients","@placeholder","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@recipientSuggestionEnabled","@showExpandedSearchResults","@withSuggestedList"],[[28,"t",["i18n_new_compose_recipients_label","messaging/templates/compose"],null],[23,0,["model","recipients"]],[28,"t",["i18n_type_name_or_multiple_names","messaging/templates/compose"],null],[28,"action",[[23,0,[]],"recipientsChanged"],null],[28,"action",[[23,0,[]],"openConversation"],null],[28,"action",[[23,0,[]],"composeToNonConnection"],null],[28,"action",[[23,0,[]],"setComposeContext"],null],true,true,true,true,true,true,[23,0,["enableComposeRecipientSuggestion"]]]]],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,0,["showMessageList"]]],null,{"statements":[[0,"        "],[7,"h2",true],[10,"class","visually-hidden"],[8],[1,[28,"t",["i18n_a11y_message_list","messaging/templates/compose"],null],false],[9],[0,"\\n        "],[5,"msg-ui@message-list-scroller",[],[["@initialEventsRequest","@conversation","@latestEvent","@loadMore"],[[23,0,["model","fetchedEvents"]],[23,0,["model","conversation"]],[23,0,["model","conversation","latestEvent"]],[28,"action",[[23,0,[]],"loadMore"],null]]],{"statements":[[0,"\\n          "],[5,"msg-ui@message-list",[],[["@isLoading","@conversation","@showMessageEditForm","@showQuickReplies","@addParticipantsPageKey"],[[23,11,["props","isLoading"]],[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"showMessageEditForm"],null],false,"flagship3_messaging_manage_participants_modal.page"]]],[0,"\\n        "]],"parameters":[11]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showOneToOneProfileCard"]]],null,{"statements":[[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,10,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-conversation-ui@profile-card-one-to-one",[[12,"class","pv4 ph3"]],[["@recipientProfile","@contextText"],[[23,0,["model","recipients","firstObject"]],[23,0,["contextText"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[10]}],[0,"\\n"]],"parameters":[]},null],[0,"        "],[7,"div",true],[11,"class",[29,["msg-compose-container__spacer mtA",[28,"if",[[23,0,["composeIsFullyExpanded"]]," msg-compose-container__spacer--compose-is-expanded"],null]]]],[8],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n      "],[7,"div",true],[11,"class",[29,["msg-compose-container__form-wrapper",[28,"if",[[23,0,["composeIsFullyExpanded"]]," msg-compose-container__form-wrapper--compose-is-expanded"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["shouldShowMessageEditForm"]]],null,{"statements":[[0,"          "],[5,"msg-ui@msg-edit-form/msg-edit-form",[],[["@event","@prefilledMessage","@saveEditControlName","@onDismissEditForm","@conversation"],[[23,0,["messageEventToEdit"]],[23,0,["messageToEdit"]],"save_edit",[28,"ember-simple-set-helper@set",[[23,0,[]],"shouldShowMessageEditForm",false],null],[23,0,["model","conversation"]]]]],[0,"\\n          "],[7,"div",true],[10,"class","msg-form--thread"],[8],[0,"\\n            "],[7,"footer",true],[10,"class","msg-form__footer msg-form__edit-form-footer"],[8],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[5,"msg-ui@msg-form/base-form",[],[["@classNames","@conversation","@messagingSettings","@prefilledMessage","@message","@externallyValid","@beforeUpload","@submitMessage","@toggleExpandComposeField","@composeIsFullyExpanded"],["msg-form--thread",[23,0,["model","conversation"]],[23,0,["model","settings"]],[23,0,["model","prepopulatedMessage"]],[23,0,["model","prepopulatedMessage"]],[28,"if",[[23,0,["model","recipients"]],true,false],null],[28,"action",[[23,0,[]],"beforeUpload"],null],[28,"action",[[23,0,[]],"submitMessage"],null],[28,"action",[[23,0,[]],"toggleExpandComposeField"],null],[23,0,["composeIsFullyExpanded"]]]],{"statements":[[0,"\\n"],[4,"if",[[23,3,["isOverCharLimit"]]],null,{"statements":[[0,"              "],[5,"msg-ui@msg-form/primitives/character-limit-banner",[],[[],[]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"unless",[[23,0,["isMessageRequestCompose"]]],null,{"statements":[[0,"              "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,9,["state","fulfilled"]]],null,{"statements":[[0,"                  "],[6,[23,1,["attachmentDragAndDrop"]],[],[["@composeIsFullyExpanded","@trackingKeys"],[[23,0,["composeIsFullyExpanded"]],[23,0,["dragAndDropTrackingKeys"]]]]],[0,"\\n"],[4,"unless",[[23,3,["showMiniAttachmentPreviews"]]],null,{"statements":[[0,"                    "],[6,[23,1,["uploadAttachmentPreviews"]],[],[[],[]]],[0,"\\n"],[4,"if",[[23,3,["attachmentDropErrorType"]]],null,{"statements":[[0,"                    "],[6,[23,1,["attachmentDragAndDropErrorDisplay"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"              "]],"parameters":[9]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,3,["showMentionsPicker"]]],null,{"statements":[[0,"              "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],{"statements":[[0,"\\n"],[4,"if",[[23,8,["state","fulfilled"]]],null,{"statements":[[0,"                  "],[6,[23,1,["mentionsPicker"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null],[0,"              "]],"parameters":[8]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n            "],[6,[23,1,["messageContentContainer"]],[],[["@composeIsFullyExpanded","@expandButtonSize","@labelText","@showExpandButton","@toggleExpandComposeField"],[[23,0,["composeIsFullyExpanded"]],2,[28,"t",["i18n_compose_message","messaging/templates/compose"],null],true,[28,"action",[[23,0,[]],"toggleExpandComposeField"],null]]]],[0,"\\n\\n"],[4,"if",[[23,3,["showMiniAttachmentPreviews"]]],null,{"statements":[[4,"if",[[23,3,["attachments","length"]]],null,{"statements":[[0,"                "],[7,"button",false],[12,"class","msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[12,"type","button"],[3,"action",[[23,0,[]],"toggleExpandComposeField"]],[8],[1,[28,"t",["i18n_num_files_attached","messaging/templates/compose"],[["numberOfAttachments"],[[23,3,["attachments","length"]]]]],false],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n            "],[7,"footer",true],[10,"class","msg-form__footer"],[8],[0,"\\n              "],[7,"div",true],[10,"class","msg-form__left-actions display-flex"],[8],[0,"\\n                "],[6,[23,1,["uploadAttachment"]],[],[["@buttonClasses","@disabled","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[23,0,["isMessageRequestCompose"]],[28,"artdeco-icons-web@li-icon",null,[["type"],["image-icon"]]],[28,"t",["i18n_attach_image","messaging/templates/compose"],null],[23,3,["supportedImageAttachmentTypes"]],"image"]]],[0,"\\n                "],[6,[23,1,["uploadAttachment"]],[],[["@buttonClasses","@disabled","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[23,0,["isMessageRequestCompose"]],[28,"artdeco-icons-web@li-icon",null,[["type"],["paperclip-icon"]]],[28,"t",["i18n_attach_file","messaging/templates/compose"],null],[23,3,["supportedFileAttachmentTypes"]],"file"]]],[0,"\\n\\n"],[4,"unless",[[23,0,["conversation","isInMail"]]],null,{"statements":[[0,"                  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,7,["state","fulfilled"]]],null,{"statements":[[0,"                      "],[5,"tenor-gif@gif-button",[],[["@disabled","@size","@conversation","@openGIFPopover"],[[23,0,["isMessageRequestCompose"]],2,[23,0,["model","conversation"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isGifSearchPopoverOpen",true],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"                  "]],"parameters":[7]}],[0,"\\n\\n"],[4,"if",[[23,0,["isGifSearchPopoverOpen"]]],null,{"statements":[[0,"                    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,6,["state","fulfilled"]]],null,{"statements":[[0,"                        "],[5,"tenor-gif@search-popover",[],[["@conversation","@closeHovercard","@handleGIFSend","@afterSend"],[[23,0,["conversation"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isGifSearchPopoverOpen",false],null],[28,"action",[[23,0,[]],[23,2,["handleGIFSend"]]],null],[28,"action",[[23,0,[]],[23,2,["focusTextarea"]]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"                    "]],"parameters":[6]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[5,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[28,"action",[[23,0,[]],[23,2,["updateTextarea"]]],null],"msg_pillar_emoji",[28,"action",[[23,0,[]],[23,2,["focusTextarea"]]],null],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]]],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[5]}],[0,"\\n\\n                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,4,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[5,"msg-shared-modals@virtual-meeting-cta",[],[["@conversationUrn","@ctaSize","@parentRefocusElement"],[[23,0,["model","conversation","entityUrn"]],2,".msg-thread"]]],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[4]}],[0,"\\n              "],[9],[0,"\\n              "],[7,"div",true],[10,"class","msg-form__right-actions display-flex align-items-center"],[8],[0,"\\n                "],[6,[23,1,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[23,3,["pressEnterToSend"]]]]],[0,"\\n                "],[6,[23,1,["sendModeToggle"]],[],[["@messagingSettings","@afterToggleAction"],[[23,0,["model","settings"]],[28,"action",[[23,0,[]],[23,2,["focusTextarea"]]],null]]]],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[1,2,3]}],[0,"\\n"]],"parameters":[]}],[0,"      "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]}],[9],[0,"\\n\\n"],[5,"artdeco-modal@artdeco-confirmation-dialog",[],[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[23,0,["isDiscardModalOpen"]],[28,"t",["i18n_discard_message","messaging/templates/compose"],null],[28,"t",["i18n_discard_body","messaging/templates/compose"],null],[28,"t",["i18n_discard","messaging/templates/compose"],null],[28,"t",["i18n_cancel","messaging/templates/compose"],null],[23,0,["retryTransition"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isDiscardModalOpen",false],null],[28,"ember-simple-set-helper@set",[[23,0,[]],"isDiscardModalOpen",false],null]]]],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"messaging/templates/compose.hbs"}})
e.default=t})
define("messaging/templates/error",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.HTMLBars.template({id:"4YlcVy59",block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","msg-thread display-flex"],[8],[0,"\\n  "],[5,"title-bar@title-bar",[],[["@bemPrefix","@title"],["msg-title-bar",""]]],[0,"\\n\\n  "],[7,"div",true],[10,"class","msg-ghost-form__msg-list"],[8],[0,"\\n    "],[5,"artdeco-empty-state@artdeco-empty-state",[],[["@headline","@illustration","@muted","@message"],[[28,"t",["i18n_error_headline","messaging/templates/error"],null],"sad-browser",true,[28,"t",["i18n_error_message","messaging/templates/error"],null]]]],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"div",true],[10,"class","msg-ghost-form"],[8],[0,"\\n    "],[7,"div",true],[10,"class","msg-ghost-form__form t-14 t-black--light t-normal"],[8],[0,"\\n      "],[1,[28,"t",["i18n_write_message","messaging/templates/error"],null],false],[0,"\\n    "],[9],[0,"\\n    "],[7,"footer",true],[10,"class","msg-ghost-form__footer"],[8],[0,"\\n      "],[5,"artdeco-button@artdeco-button",[],[["@classNames","@size","@disabled","@text"],["mlA",1,true,[28,"t",["i18n_send","messaging/templates/error"],null]]]],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"messaging/templates/error.hbs"}})
e.default=t})
define("messaging/templates/thread",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.HTMLBars.template({id:"ykVqj/Yt",block:'{"symbols":["assetLoader","assetLoader","components","actions","props","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","scroller","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader"],"statements":[[7,"div",true],[11,"class",[29,["msg-thread relative display-flex\\n    ",[28,"if",[[23,0,["composeIsFullyExpanded"]]," msg-thread--compose-field-expanded"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["model","conversation","isSpinMail"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-spinmail"]],{"statements":[[0,"\\n"],[4,"if",[[23,22,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"messaging@spinmail/spinmail-container",[],[["@conversation","@redirectToActiveConversation"],[[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"redirectToActiveConversation"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[22]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["model","conversation","isSponsoredConversation"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-spinmail"]],{"statements":[[0,"\\n"],[4,"if",[[23,21,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"messaging@spinmail/sponsored-conversation/sponsored-conversation-thread",[],[["@conversation","@initialEventsRequest","@renderThread","@saveSponsoredMessageReply","@resendMessage","@loadMore","@redirectToActiveConversation"],[[23,0,["model","conversation"]],[23,0,["model","initialEventsRequest"]],[23,0,["renderThread"]],[28,"action",[[23,0,[]],"replyToSponsoredMessage"],null],[28,"action",[[23,0,[]],"resendMessage"],null],[28,"action",[[23,0,[]],"loadMore"],null],[28,"action",[[23,0,[]],"redirectToActiveConversation"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[21]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"title-bar@title-bar",[],[["@bemPrefix","@icon"],["msg-title-bar","arrow-left-icon"]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["model","conversation","isManyToManyConvo"]]],null,{"statements":[[0,"        "],[5,"messaging@entity-lockup",[],[["@title","@conversation","@class","@headerReactionNotification"],[[28,"if",[[23,0,["model","conversation","name"]],[23,0,["model","conversation","name"]],[28,"if",[[23,0,["enableGroupChatIdentity"]],[28,"t",["i18n_conversation_header_familiar_names","messaging/templates/thread"],[["names"],[[28,"msg-ui@participant-names-with-self",[[23,0,["model","conversation"]],true],null]]]],[28,"t",["i18n_conversation_header_familiar_names","messaging/templates/thread"],[["names"],[[23,0,["model","conversation","participantNames"]]]]]],null]],null],[23,0,["model","conversation"]],"flex-grow-1 truncate",[23,0,["headerReactionNotification"]]]]],[0,"\\n        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,20,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"msg-shared-modals@thread-actions",[],[["@conversation","@showRenameConversationForm","@toggleConversationMute","@addParticipantsPageKey","@redirectToActiveConversation"],[[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"toggleShowRenameConversationForm"],null],[28,"action",[[23,0,[]],"toggleConversationMute",[23,0,["model","conversation"]]],null],"flagship3_messaging_manage_participants_modal.page",[28,"action",[[23,0,[]],"redirectToActiveConversation"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[20]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ember-engines@link-to-external",["profile.view",[23,0,["participant","miniProfile","publicIdentifier"]]],[["class","title","data-control-name"],["msg-thread__link-to-profile",[28,"t",["i18n_show_profile","messaging/templates/thread"],[["name"],[[28,"ember-cli-pemberly-i18n@format-name",null,[["firstName","lastName","type"],[[23,0,["participant","miniProfile","firstName"]],[23,0,["participant","miniProfile","lastName"]],"full"]]]]]],"topcard"]],{"statements":[[0,"          "],[5,"messaging@entity-lockup",[],[["@title","@conversation","@showPresenceStatus","@customTracking","@headerReactionNotification"],[[28,"t",["i18n_conversation_header_full_names","messaging/templates/thread"],[["names"],[[23,0,["model","conversation","participantNames"]]]]],[23,0,["model","conversation"]],[23,0,["model","conversation","hasPresence"]],[28,"action",[[23,0,[]],"presenceCustomTracking"],null],[23,0,["headerReactionNotification"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,19,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"msg-shared-modals@thread-actions",[],[["@conversation","@showRenameConversationForm","@toggleConversationMute","@createGroupChat","@addParticipantsPageKey","@redirectToActiveConversation"],[[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"toggleShowRenameConversationForm"],null],[28,"action",[[23,0,[]],"toggleConversationMute",[23,0,["model","conversation"]]],null],[28,"action",[[23,0,[]],"createGroupChat"],null],"flagship3_messaging_manage_participants_modal.page",[28,"action",[[23,0,[]],"redirectToActiveConversation"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[19]}],[0,"\\n"]],"parameters":[]}],[0,"    "]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["renderThread"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,18,["state","fulfilled"]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-thread__actions-tray"],[8],[0,"\\n            "],[5,"msg-conversation-ui@nonconnection-banner",[],[["@authenticatedUser","@conversation"],[[23,0,["authenticatedUser"]],[23,0,["model","conversation"]]]]],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[18]}],[0,"\\n"],[4,"if",[[23,0,["model","conversation","latestEvent","isInMail"]]],null,{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,17,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"msg-shared-modals@gdpr-notice",[],[["@noticeTypes"],[[23,0,["gdprNoticeType"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[17]}],[0,"\\n"]],"parameters":[]},null],[0,"      "],[7,"div",true],[10,"class","msg-s-thread-actions-tray"],[8],[0,"\\n"],[4,"if",[[23,0,["showRenameConversationForm"]]],null,{"statements":[[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,16,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-conversation-ui@conversation-rename",[],[["@conversation","@hideRenameConversationForm","@actionTrackingPrefix","@pageKey"],[[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"hideRenameConversationForm"],null],[23,0,["actionTrackingPrefix"]],"flagship3_messaging_conversation_window_rename.page"]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[16]}],[0,"\\n"]],"parameters":[]},null],[4,"if",[[23,0,["showConversationMuteBanner"]]],null,{"statements":[[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,15,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-conversation-ui@conversation-mute-banner",[],[["@toggleConversationMute","@actionTrackingPrefix","@pageKey"],[[28,"action",[[23,0,[]],"toggleConversationMute",[23,0,["model","conversation"]]],null],[23,0,["actionTrackingPrefix"]],"flagship3_messaging_conversation_window_muted.page"]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[15]}],[0,"\\n"]],"parameters":[]},null],[0,"      "],[9],[0,"\\n      "],[7,"h2",true],[10,"class","visually-hidden"],[8],[0,"\\n        "],[1,[28,"t",["i18n_a11y_message_list","messaging/templates/thread"],null],false],[0,"\\n      "],[9],[0,"\\n"],[0,"      "],[5,"msg-ui@message-list-scroller",[],[["@initialEventsRequest","@conversation","@latestEvent","@typingParticipants","@loadMore"],[[23,0,["model","initialEventsRequest"]],[23,0,["model","conversation"]],[23,0,["model","conversation","latestEvent"]],[23,0,["model","conversation","typingParticipants"]],[28,"action",[[23,0,[]],"loadMore"],null]]],{"statements":[[0,"\\n        "],[5,"msg-ui@message-list",[[3,"did-insert",[[23,0,["didMessageListInsert"]]]]],[["@blockedByNoResponse","@isLoading","@conversation","@addParticipantsPageKey","@resendMessage","@redirectToActiveConversation","@showMessageEditForm","@toggleShowRenameConversation","@showQuickReplies","@enableNewQuickReplies","@quickRepliesList","@quickRepliesUseCase","@submitQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["blockedByNoResponse"]],[23,14,["props","isLoading"]],[23,0,["model","conversation"]],"flagship3_messaging_manage_participants_modal.page",[28,"action",[[23,0,[]],"resendMessage"],null],[28,"action",[[23,0,[]],"redirectToActiveConversation"],null],[28,"action",[[23,0,[]],"showMessageEditForm"],null],[28,"action",[[23,0,[]],"toggleShowRenameConversationForm"],null],[23,0,["showQuickReplies"]],[23,0,["enableNewQuickReplies"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[28,"action",[[23,0,[]],"replyWithQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null],[23,0,["width"]]]]],[0,"\\n"],[4,"if",[[28,"global-helpers@and",[[23,0,["enableScrollToLatestMessageIndicator"]],[23,14,["props","scrollingPastThreshold"]]],null]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-s-message-list__new-message msg-animation__indicator"],[8],[0,"\\n            "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"if",[[23,14,["props","hasNewMessages"]],[28,"t",["a11y_new_messages","messaging/templates/thread"],null],[28,"t",["a11y_latest_message","messaging/templates/thread"],null]],null]]],[["@class","@size","@controlType","@text","@click","@icon"],["msg-s-message-list__new-message-button block",1,"button",[28,"if",[[23,14,["props","hasNewMessages"]],[28,"t",["i18n_new_messages_v2","messaging/templates/thread"],null],[28,"t",["i18n_latest_message","messaging/templates/thread"],null]],null],[28,"action",[[23,0,[]],[23,14,["actions","scrollToNewMessages"]]],null],"arrow-down-icon"]]],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,14,["props","hasNewMessages"]]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","msg-s-message-list__new-message msg-animation__indicator"],[8],[0,"\\n              "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"t",["a11y_new_messages","messaging/templates/thread"],null]]],[["@class","@size","@controlType","@text","@click","@icon"],["msg-s-message-list__new-message-button block",1,"button",[28,"t",["i18n_new_messages_v2","messaging/templates/thread"],null],[28,"action",[[23,0,[]],[23,14,["actions","scrollToNewMessages"]]],null],"arrow-down-icon"]]],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"      "]],"parameters":[14]}],[0,"\\n"],[4,"if",[[28,"global-helpers@not",[[23,0,["enableDismissQRWhenScrolling"]]],null]],null,{"statements":[[4,"if",[[23,0,["showQuickReplies"]]],null,{"statements":[[4,"if",[[23,0,["enableNewQuickReplies"]]],null,{"statements":[[0,"            "],[5,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction"],[[23,0,["model","conversation"]],[23,0,["model","conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],"QUICK_REPLY","non_inmail_quick_reply",[28,"action",[[23,0,[]],"replyWithQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[5,"conversations@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction"],[[23,0,["model","conversation"]],[23,0,["model","conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],"QUICK_REPLY","non_inmail_quick_reply",[28,"action",[[23,0,[]],"replyWithQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showInMailQuickReplies"]]],null,{"statements":[[4,"if",[[23,0,["enableNewQuickReplies"]]],null,{"statements":[[0,"            "],[5,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction"],[[23,0,["model","conversation"]],[23,0,["model","conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],"QUICK_REPLY","non_inmail_quick_reply",[28,"action",[[23,0,[]],"replyWithQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[5,"conversations@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction"],[[23,0,["model","conversation"]],[23,0,["model","conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],"QUICK_REPLY","non_inmail_quick_reply",[28,"action",[[23,0,[]],"replyWithQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]}],[4,"if",[[23,0,["customLssFooter"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","pt3 ph5 pb2"],[8],[0,"\\n          "],[7,"p",true],[10,"class","t-12 t-black--light t-normal mb3"],[8],[0,"\\n            "],[1,[23,0,["customLssFooter","mainText","text"]],false],[0,"\\n            "],[7,"button",false],[12,"class","t-12 t-black--light t-normal link-without-visited-state"],[12,"type","button"],[3,"on",["click",[28,"ember-simple-set-helper@set",[[23,0,[]],"blockDialogOpen",true],null]]],[8],[0,"\\n              "],[1,[23,0,["customLssFooter","unsubscribeText","text"]],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n"],[4,"if",[[23,0,["blockDialogOpen"]]],null,{"statements":[[0,"            "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,13,["state","fulfilled"]]],null,{"statements":[[0,"                "],[5,"msg-shared-modals@block-lss-modal",[],[["@closeModal","@convoId","@modalIsOpen","@participantNames"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"blockDialogOpen",false],null],[23,0,["model","conversation","id"]],true,[23,0,["model","conversation","participantNames"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"            "]],"parameters":[13]}],[0,"\\n"]],"parameters":[]},null],[0,"        "],[9],[0,"\\n"]],"parameters":[]},null],[4,"if",[[23,0,["model","conversation","blocked"]]],null,{"statements":[[0,"        "],[5,"msg-ui@conversation-unspam",[],[["@conversation","@redirectToActiveConversation"],[[23,0,["model","conversation"]],[23,0,["redirectToActiveConversation"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["shouldShowMessageEditForm"]]],null,{"statements":[[0,"          "],[5,"msg-ui@msg-edit-form/msg-edit-form",[],[["@trackingPrefix","@event","@prefilledMessage","@saveEditControlName","@onDismissEditForm","@conversation"],[[23,0,["actionTrackingPrefix"]],[23,0,["messageEventToEdit"]],[23,0,["messageToEdit"]],"save_edit",[28,"ember-simple-set-helper@set",[[23,0,[]],"shouldShowMessageEditForm",false],null],[23,0,["model","conversation"]]]]],[0,"\\n          "],[7,"div",true],[10,"class","msg-form--thread"],[8],[0,"\\n            "],[7,"footer",true],[10,"class","msg-form__footer msg-form__edit-form-footer"],[8],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["blockedByNoResponse"]]],null,{"statements":[[0,"          "],[7,"p",true],[10,"class","msg-thread__blocked-compose msg-thread__blocked-compose--overlay pt4 pl4 pr4 t-12 t-black--light t-normal"],[8],[0,"\\n            "],[1,[28,"t",["i18n_no_response_yet","messaging/templates/thread"],[["linkInfo"],[[28,"hash",null,[["target","href","rel","class","aria-label","data-control-name","data-test-awaiting-inmail-response-learn-more"],["_blank",[23,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,"t",["i18n_learn_more_a11y","messaging/templates/thread"],null],"awaiting_inmail_response_learn_more",true]]]]]],false],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["blockedByDecline"]]],null,{"statements":[[0,"          "],[7,"p",true],[10,"class","msg-thread__blocked-compose msg-thread__blocked-compose--overlay pt4 pl4 pr4 t-12 t-black--light t-normal"],[8],[0,"\\n            "],[1,[28,"t",["i18n_recipient_declined_inmail","messaging/templates/thread"],[["linkInfo"],[[28,"hash",null,[["target","href","rel","class","aria-label","data-control-name","data-test-inmail-declined-learn-more"],["_blank",[23,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,"t",["i18n_learn_more_a11y","messaging/templates/thread"],null],"inmail_declined_learn_more",true]]]]]],false],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["model","conversation","isPendingMessageRequest"]]],null,{"statements":[[0,"          "],[5,"msg-ui@binary-reply-options",[],[["@isReplyPending","@promptText","@acceptText","@acceptA11yText","@rejectText","@rejectA11yText","@acceptTrackingKey","@rejectTrackingKey","@sendAcceptReply","@sendRejectReply"],[[23,0,["isMessageRequestClickReplyPending"]],[28,"if",[[23,0,["isGroupMessageRequest"]],[28,"t",["i18n_allow_group_message_request_prompt","messaging/templates/thread"],null],[28,"t",["i18n_allow_message_request_prompt","messaging/templates/thread"],[["senderName"],[[28,"global-helpers@name",[[28,"get",[[23,0,["model","conversation","participants"]],"0.miniProfile"],null]],null]]]]],null],[28,"t",["i18n_message_request_reply_form_interested","messaging/templates/thread"],null],[28,"t",["i18n_a11y_message_request_reply_form_interested","messaging/templates/thread"],[["senderName"],[[28,"global-helpers@name",[[28,"get",[[23,0,["model","conversation","participants"]],"0.miniProfile"],null]],null]]]],[28,"if",[[23,0,["isGroupMessageRequest"]],[28,"t",["i18n_message_request_reply_form_leave","messaging/templates/thread"],null],[28,"t",["i18n_message_request_reply_form_decline","messaging/templates/thread"],null]],null],[28,"if",[[23,0,["isGroupMessageRequest"]],[28,"t",["i18n_a11y_message_request_reply_form_leave","messaging/templates/thread"],null],[28,"t",["i18n_a11y_message_request_reply_form_decline","messaging/templates/thread"],[["senderName"],[[28,"global-helpers@name",[[28,"get",[[23,0,["model","conversation","participants"]],"0.miniProfile"],null]],null]]]]],null],"accept_message_request","decline_message_request",[28,"action",[[23,0,[]],"oneClickReplyToMessageRequest",true],null],[28,"action",[[23,0,[]],"oneClickReplyToMessageRequest",false],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showDeclinedMessageRequestAccept"]]],null,{"statements":[[0,"          "],[5,"msg-ui@declined-message-request-accept-banner",[],[["@senderName","@acceptMessageRequest"],[[28,"global-helpers@name",[[28,"get",[[23,0,["model","conversation","participants"]],"0.miniProfile"],null]],null],[28,"action",[[23,0,[]],"oneClickReplyToMessageRequest",true],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showThorV2"]]],null,{"statements":[[0,"          "],[5,"msg-ui@binary-reply-options",[],[["@isReplyPending","@promptText","@acceptText","@rejectText","@pageKey","@acceptTrackingKey","@rejectTrackingKey","@sendAcceptReply","@sendRejectReply"],[[23,0,["isInMailClickReplyPending"]],[28,"t",["i18n_learn_more_about_opportunity","messaging/templates/thread"],null],[28,"t",["i18n_inmail_reply_form_interested","messaging/templates/thread"],null],[28,"t",["i18n_inmail_reply_form_decline","messaging/templates/thread"],null],"flagship3_messaging_recruiter_inmail_yes-no-reply-ui","recruiter_inmail_yes","recruiter_inmail_no_thanks",[28,"action",[[23,0,[]],"oneClickReplyToRecruiterInMail",true],null],[28,"action",[[23,0,[]],"oneClickReplyToRecruiterInMail",false],null]]]],[0,"\\n          "],[7,"div",true],[10,"class","msg-form--thread"],[8],[0,"\\n            "],[7,"footer",true],[10,"class","msg-form__footer"],[8],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showMessageForm"]]],null,{"statements":[[0,"          "],[5,"msg-ui@msg-form/base-form",[],[["@classNames","@conversation","@messagingSettings","@msgAdapterOptions","@beforeUpload","@submitMessage","@toggleExpandComposeField","@composeIsFullyExpanded","@onBeforeFormSubmit"],["msg-form--thread",[23,0,["model","conversation"]],[23,0,["model","settings"]],[23,0,["msgAdapterOptions"]],[28,"action",[[23,0,[]],"beforeUpload"],null],[28,"action",[[23,0,[]],"replyToMessage"],null],[28,"action",[[23,0,[]],"toggleExpandComposeField"],null],[23,0,["composeIsFullyExpanded"]],[28,"action",[[23,0,[]],"onBeforeFormSubmit"],null]]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["isOverCharLimit"]]],null,{"statements":[[0,"              "],[5,"msg-ui@msg-form/primitives/character-limit-banner",[],[[],[]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n            "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,12,["state","fulfilled"]]],null,{"statements":[[0,"                "],[6,[23,3,["attachmentDragAndDrop"]],[],[["@composeIsFullyExpanded","@trackingKeys"],[[23,0,["composeIsFullyExpanded"]],[23,0,["dragAndDropTrackingKeys"]]]]],[0,"\\n\\n"],[4,"unless",[[23,5,["showMiniAttachmentPreviews"]]],null,{"statements":[[0,"                  "],[6,[23,3,["uploadAttachmentPreviews"]],[],[[],[]]],[0,"\\n"],[4,"if",[[23,5,["attachmentDropErrorType"]]],null,{"statements":[[0,"                    "],[6,[23,3,["attachmentDragAndDropErrorDisplay"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"            "]],"parameters":[12]}],[0,"\\n\\n"],[4,"if",[[23,5,["showInMailQuickReplies"]]],null,{"statements":[[0,"              "],[6,[23,3,["inmailQuickReplies"]],[],[["@immediateAction"],[[23,0,["inmailReplyDeepLink"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,5,["showMentionsPicker"]]],null,{"statements":[[0,"              "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],{"statements":[[0,"\\n"],[4,"if",[[23,11,["state","fulfilled"]]],null,{"statements":[[0,"                  "],[6,[23,3,["mentionsPicker"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null],[0,"              "]],"parameters":[11]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n            "],[6,[23,3,["messageContentContainer"]],[],[["@composeIsFullyExpanded","@expandButtonSize","@focusIn","@labelText","@showExpandButton","@toggleExpandComposeField"],[[23,0,["composeIsFullyExpanded"]],2,[28,"action",[[23,0,[]],"markConversationAsRead",[23,0,["model","conversation"]]],null],[28,"if",[[23,0,["model","conversation","name"]],[28,"t",["ally_write_a_message_to_group_name","messaging/templates/thread"],[["groupName"],[[23,0,["model","conversation","name"]]]]],[28,"t",["ally_write_a_message_to_participants","messaging/templates/thread"],[["names"],[[23,0,["model","conversation","participantNames"]]]]]],null],true,[28,"action",[[23,0,[]],"toggleExpandComposeField"],null]]]],[0,"\\n\\n"],[4,"if",[[23,5,["showMiniAttachmentPreviews"]]],null,{"statements":[[4,"if",[[23,5,["attachments","length"]]],null,{"statements":[[0,"                "],[7,"button",false],[12,"class","msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[12,"type","button"],[3,"action",[[23,0,[]],"toggleExpandComposeField"]],[8],[0,"\\n                  "],[1,[28,"t",["i18n_num_files_attached","messaging/templates/thread"],[["numberOfAttachments"],[[23,5,["attachments","length"]]]]],false],[0,"\\n                "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"            "],[7,"footer",true],[10,"class","msg-form__footer"],[10,"role","presentation"],[8],[0,"\\n              "],[7,"div",true],[10,"class","msg-form__left-actions display-flex"],[8],[0,"\\n                "],[6,[23,3,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,"artdeco-icons-web@li-icon",null,[["type"],["image-icon"]]],[28,"t",["i18n_attach_image","messaging/templates/thread"],null],[23,5,["supportedImageAttachmentTypes"]],"image"]]],[0,"\\n                "],[6,[23,3,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,"artdeco-icons-web@li-icon",null,[["type"],["paperclip-icon"]]],[28,"t",["i18n_attach_file","messaging/templates/thread"],null],[23,5,["supportedFileAttachmentTypes"]],"file"]]],[0,"\\n"],[4,"if",[[23,5,["isNotInmail"]]],null,{"statements":[[0,"                  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,10,["state","fulfilled"]]],null,{"statements":[[0,"                      "],[5,"tenor-gif@gif-button",[],[["@size","@conversation","@openGIFPopover"],[2,[23,0,["model","conversation"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isGifSearchPopoverOpen",true],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"                  "]],"parameters":[10]}],[0,"\\n"],[4,"if",[[23,0,["isGifSearchPopoverOpen"]]],null,{"statements":[[0,"                    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,9,["state","fulfilled"]]],null,{"statements":[[0,"                        "],[5,"tenor-gif@search-popover",[],[["@conversation","@closeHovercard","@handleGIFSend","@afterSend","@prefilledSearchTerm"],[[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"closeGIFPopover"],null],[28,"action",[[23,0,[]],[23,4,["handleGIFSend"]]],null],[28,"action",[[23,0,[]],[23,4,["focusTextarea"]]],null],[23,0,["prefilledGIFSearchTerm"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"                    "]],"parameters":[9]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],{"statements":[[0,"\\n"],[4,"if",[[23,8,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[5,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[28,"action",[[23,0,[]],[23,4,["updateTextarea"]]],null],"msg_pillar_emoji",[28,"action",[[23,0,[]],[23,4,["focusTextarea"]]],null],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]]],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[8]}],[0,"\\n                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,7,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[5,"msg-shared-modals@virtual-meeting-cta",[],[["@conversationUrn","@ctaSize","@parentRefocusElement"],[[23,0,["model","conversation","entityUrn"]],2,".msg-thread"]]],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[7]}],[0,"\\n              "],[9],[0,"\\n              "],[7,"div",true],[10,"class","msg-form__right-actions display-flex align-items-center"],[8],[0,"\\n                "],[6,[23,3,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[23,5,["pressEnterToSend"]]]]],[0,"\\n                "],[6,[23,3,["sendModeToggle"]],[],[["@messagingSettings","@afterToggleAction"],[[23,0,["model","settings"]],[28,"action",[[23,0,[]],[23,4,["focusTextarea"]]],null]]]],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n\\n"],[0,"            "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],{"statements":[[0,"\\n"],[4,"if",[[23,6,["state","fulfilled"]]],null,{"statements":[[0,"                "],[5,"msg-mentions@mention-to-invite-toast",[],[["@conversation","@membersToInvite","@onToastDismiss"],[[23,0,["model","conversation"]],[23,0,["membersToInvite"]],[28,"action",[[23,0,[]],[23,4,["focusTextarea"]]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"            "]],"parameters":[6]}],[0,"\\n          "]],"parameters":[3,4,5]}],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["selectedInMailReplySmartAction"]]],null,{"statements":[[0,"          "],[5,"msg-ui@inmail-reply-panel",[],[["@replyTo","@quickReply","@cancel","@send","@trackingPrefix"],[[23,0,["model","conversation","latestEvent"]],[23,0,["selectedInMailReplySmartAction"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"selectedInMailReplySmartAction",[27]],null],[28,"action",[[23,0,[]],"onSendCustomInmailReply"],null],[23,0,["actionTrackingPrefix"]]]]],[0,"\\n        "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"      "],[5,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]]],[0,"\\n"]],"parameters":[]}],[0,"  "]],"parameters":[]}]],"parameters":[]}],[4,"if",[[23,0,["shareInfoModalIsOpen"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"msg-shared-modals@share-profile-info-modal",[],[["@emailAddresses","@participant","@shareInfoModalIsOpen","@selectedEmailAddress","@confirmedPhoneNumbers","@recruiter","@conversation","@onShareContactInfoAccept","@sendInMailReply"],[[23,0,["profileContactInfo","confirmedEmailAddresses"]],[23,0,["authenticatedUser","miniProfile"]],[23,0,["shareInfoModalIsOpen"]],[23,0,["profileContactInfo","confirmedEmailAddresses","firstObject"]],[23,0,["profileContactInfo","confirmedPhoneNumbers"]],[23,0,["model","conversation","latestParticipants","firstObject"]],[23,0,["model","conversation"]],[28,"action",[[23,0,[]],"onShareContactInfoAccept"],null],[28,"action",[[23,0,[]],"onShareContactInfoDecline"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n\\n"],[4,"if",[[23,0,["declineInmailReasonModalIsOpen"]]],null,{"statements":[[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-shared-modals@decline-inmail-reason-modal",[],[["@dismissModal"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"declineReasonModalIsOpen",false],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[5,"artdeco-modal@artdeco-confirmation-dialog",[],[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[23,0,["isDiscardModalOpen"]],[28,"t",["i18n_discard_message","messaging/templates/thread"],null],[28,"t",["i18n_discard_body","messaging/templates/thread"],null],[28,"t",["i18n_discard","messaging/templates/thread"],null],[28,"t",["i18n_cancel","messaging/templates/thread"],null],[23,0,["retryTransition"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isDiscardModalOpen",false],null],[28,"ember-simple-set-helper@set",[[23,0,[]],"isDiscardModalOpen",false],null]]]],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"messaging/templates/thread.hbs"}})
e.default=t})
define("messaging/utils/conversations-redirection",["exports","urn-utils"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,n){if(n.to&&!n.to.name.match("thread")&&!n.to.name.match("compose")){let n={}
if(e.data.length){const s=e.data.get("firstObject.entityUrn")
n=["thread",(0,t.extractEntityInfoFromUrn)(s).id]}else n=["compose"]
return n}return[!1]}})
define.alias("client-sensor-web/utils/counter-buffer","messaging/utils/counter-buffer")
define("messaging/utils/get-route-pagekey",["exports","msg-shared/utils/constants"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const{searchTerm:s,filter:a}=e
if(s)return"flagship3_messaging_search_results"
if(a){let e=a.toLowerCase()
if("mr"===e)return"flagship3_pending_messaging_request_inbox"
if("mr-declined"===e)return"flagship3_declined_messaging_request_inbox"
a===n.CONNECTIONS&&(e="myconnections")
return`flagship3_messaging_conversation_list_${e}`}return t}
const{SEARCH_FILTER:n}=t.default})
define.alias("client-sensor-web/utils/helpers","messaging/utils/helpers")
define("messaging/utils/leave-messaging-modal",["exports","global-utils/utils/is-browser","msg-shared/utils/constants","messaging/components/modals/leave-messaging-alert-modal"],function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.composeHasValue=i
e.nativeLeaveAlert=function(e,n){if(t.default&&i()){const t=n.getMessageRenderer(s.default,"i18n_leave_body")();(e||window.event).returnValue=t
return t}return}
const{COMPOSE_FORM_CONTENTEDITABLE:a}=n.default
function i(){if(t.default){const e=document.querySelector(a)
return e&&Ember.isPresent((e.value||e.textContent||"").trim())}return!1}})
define.alias("client-sensor-web/utils/run-loop-helpers","messaging/utils/run-loop-helpers")
define.alias("@linkedin/artdeco-datepicker/utils/should-use-timezone","messaging/utils/should-use-timezone")
define.alias("ember-vector-images/utils/vector-url","messaging/utils/vector-url")

//# sourceMappingURL=engine.map